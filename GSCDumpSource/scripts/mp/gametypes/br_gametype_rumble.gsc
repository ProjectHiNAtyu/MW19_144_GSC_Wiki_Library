// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

_locationselectioninterrupt()
{

}

_maphint_offerscriptableused()
{

}

init()
{
    race_flow();
}

race_flow()
{
    recievedcarepackagekillstreaks();
    init_locations();
    puddle_structs();
    spawn_lbravo();
    scripts\mp\utility\sound::apc_target_enemies( "mp_tu_canteen_sfx" );
    level._effect["vfx_golden_loot_explosion_flare"] = loadfx( "vfx/iw8_br/gameplay/vfx_golden_loot_explosion_flare" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "plunderSites" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "gulag" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "oneLife" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "playerCountLandmarks" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "movingCircle" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "randomizeCircleCenter" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "planeSnapToOOB" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "drogBagLoadout" );
    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "match_start_VO" );
    scripts\mp\gametypes\br_gametypes.gsc::initnonbunkerdoors( "planeUseCircleRadius" );
    scripts\mp\gametypes\br_gametypes.gsc::initnonbunkerdoors( "circleEarlyStart" );
    level.circleposattime = ::extra_glow_sticks_init;
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "lastStandAllowed", ::setquestrewardtier );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "getFinalCircleCenter", ::never_unloaded_from_vehicle );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "mapCenterFinalCircle", ::never_unloaded_from_vehicle );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "addToC130Infil", ::apc_rus_monitordriverturretreload );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "createC130PathStruct", ::get_focus_fire_icon_image );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "spawnHandled", ::_id_127E1 );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "playerKilledSpawn", ::playerrespawn );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "gulagWinnerRespawn", ::gulagwinnerrespawn );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "onPlayerKilled", ::onplayerkilled );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "onPlayerConnect", ::onplayerconnect );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "infilSequence", ::hvt_visual_callout );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "skipInfilSequence", ::_id_125B2 );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "spawnInitialVehicles", ::_id_1270A );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "dangerCircleTick", ::dangercircletick );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "playerDropPlunderOnDeath", ::playerdropplunderondeath );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "addDropOnPlayerDeath", ::anim_scene_stance_override );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "addSpawnLootContents", ::apc_rus_adjustdriverturretammo );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "modifyPlayerDamage", ::modifyplayerdamage );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "playerWelcomeSplashes", ::_id_11A17 );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "endGame", ::claymore_blockdamageuntilframeend );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "delayedShowTablets", ::grenadehealthatdeathframeupdatecallback );
    scripts\mp\gametypes\br_gametypes.gsc::_id_11DDC( "calculateBRBonusXP", ::deployingplayer );
    _calloutmarkerping_isdropcrate::init();
    _calloutmarkerping_handleluinotify_enemyrepinged::init();
    _calloutmarkerping_handleluinotify_brinventoryslotrequest::init();
    _calloutmarkerping_handleluinotify_mappingdeletemarker::init();
    setdvar( "LKTPRPKPMR", 1 );
    setdvar( "LOSOOOTNMS", 0 );
    setdvar( "NNMLSMNTOQ", -1 );
    level thread race_ent();
}

recievedcarepackagekillstreaks()
{
    level.current_puddle_count = spawnstruct();
    level.current_puddle_count.showteammateoutlineshader = getdvarint( "scr_brRumble_showTeammateOutlineShader", 0 );
    level.current_puddle_count.give_player_grenade_on_respawn = getdvarint( "scr_brRumble_tacmap_zoom", 12000 );
    level.current_puddle_count._id_12A5F = getdvar( "scr_brRumble_location_override", "random" );
    level.current_puddle_count.postspawn_initial_allies = getdvarint( "scr_brRumble_default_spawn_height", 3000 );
    level.current_puddle_count._id_11AD0 = getdvarfloat( "scr_brRumble_plunderDropPercent", 0.0 );
    level.current_puddle_count._id_11ACF = getdvarfloat( "scr_brRumble_plunderDropAmount", 5 );
    level.current_puddle_count._id_11AD8 = getdvarfloat( "scr_brRumble_plunderKeepPercent", 1.0 );
    level.current_puddle_count.poweron_warnings = getdvarint( "scr_brRumble_points_per_kill", 1 );
    level.current_puddle_count.pour = getdvarint( "scr_brRumble_killmonger_kill_bonus", 1 );
    level.current_puddle_count.postupdategameevents = getdvarint( "scr_brRumble_killing_killmonger_bonus", 3 );
    level.current_puddle_count.powered_on_model = getdvarint( "scr_brRumble_points_for_quest_completion", 1 );
    level.current_puddle_count.postspawn_assault3_bombers = getdvarint( "scr_brRumble_comeback_mechanics_enabled", 1 ) == 1;
    level.current_puddle_count.i_xp_per_kill = getdvarint( "scr_brRumble_xp_per_kill", 125 );
    level.current_puddle_count.i_xp_per_assist = getdvarint( "scr_brRumble_xp_per_assist", 25 );
    level.current_puddle_count.i_xp_per_cache_open = getdvarint( "scr_brRumble_xp_per_cache_open", 100 );
    level.current_puddle_count.i_xp_per_minute = getdvarint( "scr_brRumble_xp_per_minute", 300 );
    level.current_puddle_count.i_xp_for_win = getdvarint( "scr_brRumble_xp_for_win", 5000 );
    level.current_puddle_count.i_xp_for_loss = getdvarint( "scr_brRumble_xp_for_loss", 3000 );
    level.current_puddle_count.idflags_penetration_player_only = getdvarint( "scr_brRumble_pe_dom_radius", 750 );
    level.current_puddle_count.vehicle_occupancy_cp_updateriotshield = getdvarint( "scr_brRumble_pe_dom_capture_time", 45 );
    level.current_puddle_count.idflags_br_armor_break = getdvarfloat( "scr_brRumble_pe_dom_stompRate", 2.0 );
    level.current_puddle_count.vehicle_occupancy_updateriotshield = getdvarint( "scr_brRumble_pe_kill_leader_duration", 120 );
    level.current_puddle_count.tabletreplacetime = getdvarfloat( "scr_brRumble_questTabletReplaceTime", 450 );
    level.current_puddle_count.tabletreplacemin = getdvarint( "scr_brRumble_questTabletReplaceMin", 14 );
    level.current_puddle_count.tabletreplacemax = getdvarint( "scr_brRumble_questTabletReplaceMax", 24 );
    level.current_puddle_count.spawned_vehicles = [];
    level.current_puddle_count._id_13293 = [ "tac_rover", "atv", "cargo_truck", "jeep", "little_bird_mg", "motorcycle" ];
    level.current_puddle_count._id_11DE6 = [];
    level._id_130F9 = getdvarint( "scr_brRumble_useAutoRespawn", 1 );
    level.brplacementchallengeallowed = getdvarfloat( "scr_brRumble_defaultRespawnTime", 5.0 );
    level._id_12CCD = getdvarint( "scr_brRumble_tokenRespawnWaitTime", level.brplacementchallengeallowed );
    level.project_to_line = getdvarint( "scr_brRumble_respawn_penalty", 0 );
    level.project_to_line_seg = getdvarfloat( "scr_brRumble_respawn_penalty_max", 15 );
    level._id_11F58 = getdvarint( "scr_brRumble_respawnHeightOverride", 3000 );
    level._id_11F64 = getdvarint( "scr_brRumble_respawn_time_disable", 0 );
    level.validtousesticker = getdvarfloat( "scr_brRumble_parachuteDeployDelay", 0.5 );
    level.plunder_items_picked_up = spawnstruct();
    level.plunder_items_picked_up.burndowntime = undefined;
    level.plunder_items_picked_up.bunkervaults = undefined;
    level._id_125C1 = getdvarint( "scr_brRumble_skipWeaponDropOnDeath", 1 );
    level._id_125A9 = getdvarint( "scr_brRumble_skipEquipmentDropOnDeath", 1 );
    level.little_bird_initdamage = getdvarint( "scr_brRumble_forceArmorDropOnDeath", 1 );
    level._id_125BD = getdvarint( "scr_brRumble_skipSuperDropOnDeath", 1 );
    level.laststand = getdvarint( "scr_brRumble_allowLastStand", 0 );
    level.little_bird_mg_cp_onentervehicle = !level.laststand;
    level.colorise_warnings = 1;
    level._id_1254A = 1;
    level.allowendgamexpbonus = 1;
    scripts\engine\scriptable::_id_1219E( "body", ::tv_station_boss_should_break_stealth_immediately );
}

puddle_structs()
{
    _setdomflagiconinfo( "waypoint_captureneutral_br_a", "neutral", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_a", 0 );
    _setdomflagiconinfo( "waypoint_captureneutral_br_b", "neutral", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_b", 0 );
    _setdomflagiconinfo( "waypoint_captureneutral_br_c", "neutral", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_c", 0 );
    _setdomflagiconinfo( "waypoint_captureneutral_br_d", "neutral", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_d", 0 );
    _setdomflagiconinfo( "waypoint_captureneutral_br_e", "neutral", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_e", 0 );
    _setdomflagiconinfo( "waypoint_capture_br_a", "enemy", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_a", 0 );
    _setdomflagiconinfo( "waypoint_capture_br_b", "enemy", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_b", 0 );
    _setdomflagiconinfo( "waypoint_capture_br_c", "enemy", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_c", 0 );
    _setdomflagiconinfo( "waypoint_capture_br_d", "enemy", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_d", 0 );
    _setdomflagiconinfo( "waypoint_capture_br_e", "enemy", "MP_BR_INGAME/DOM_CAPTURE", "icon_waypoint_dom_e", 0 );
    _setdomflagiconinfo( "waypoint_defend_br_a", "friendly", "MP_INGAME_ONLY/OBJ_DEFEND_CAPS", "icon_waypoint_dom_a", 0 );
    _setdomflagiconinfo( "waypoint_defend_br_b", "friendly", "MP_INGAME_ONLY/OBJ_DEFEND_CAPS", "icon_waypoint_dom_b", 0 );
    _setdomflagiconinfo( "waypoint_defend_br_c", "friendly", "MP_INGAME_ONLY/OBJ_DEFEND_CAPS", "icon_waypoint_dom_c", 0 );
    _setdomflagiconinfo( "waypoint_defend_br_d", "friendly", "MP_INGAME_ONLY/OBJ_DEFEND_CAPS", "icon_waypoint_dom_d", 0 );
    _setdomflagiconinfo( "waypoint_defend_br_e", "friendly", "MP_INGAME_ONLY/OBJ_DEFEND_CAPS", "icon_waypoint_dom_e", 0 );
    _setdomflagiconinfo( "waypoint_defending_br_a", "friendly", "MP_INGAME_ONLY/OBJ_DEFENDING_CAPS", "icon_waypoint_dom_a", 0 );
    _setdomflagiconinfo( "waypoint_defending_br_b", "friendly", "MP_INGAME_ONLY/OBJ_DEFENDING_CAPS", "icon_waypoint_dom_b", 0 );
    _setdomflagiconinfo( "waypoint_defending_br_c", "friendly", "MP_INGAME_ONLY/OBJ_DEFENDING_CAPS", "icon_waypoint_dom_c", 0 );
    _setdomflagiconinfo( "waypoint_defending_br_d", "friendly", "MP_INGAME_ONLY/OBJ_DEFENDING_CAPS", "icon_waypoint_dom_d", 0 );
    _setdomflagiconinfo( "waypoint_defending_br_e", "friendly", "MP_INGAME_ONLY/OBJ_DEFENDING_CAPS", "icon_waypoint_dom_e", 0 );
    _setdomflagiconinfo( "waypoint_contested_br_a", "contest", "MP_INGAME_ONLY/OBJ_CONTESTED_CAPS", "icon_waypoint_dom_a", 1 );
    _setdomflagiconinfo( "waypoint_contested_br_b", "contest", "MP_INGAME_ONLY/OBJ_CONTESTED_CAPS", "icon_waypoint_dom_b", 1 );
    _setdomflagiconinfo( "waypoint_contested_br_c", "contest", "MP_INGAME_ONLY/OBJ_CONTESTED_CAPS", "icon_waypoint_dom_c", 1 );
    _setdomflagiconinfo( "waypoint_contested_br_d", "contest", "MP_INGAME_ONLY/OBJ_CONTESTED_CAPS", "icon_waypoint_dom_d", 1 );
    _setdomflagiconinfo( "waypoint_contested_br_e", "contest", "MP_INGAME_ONLY/OBJ_CONTESTED_CAPS", "icon_waypoint_dom_e", 1 );
    _setdomflagiconinfo( "waypoint_taking_br_a", "friendly", "MP_INGAME_ONLY/OBJ_TAKING_CAPS", "icon_waypoint_dom_a", 1 );
    _setdomflagiconinfo( "waypoint_taking_br_b", "friendly", "MP_INGAME_ONLY/OBJ_TAKING_CAPS", "icon_waypoint_dom_b", 1 );
    _setdomflagiconinfo( "waypoint_taking_br_c", "friendly", "MP_INGAME_ONLY/OBJ_TAKING_CAPS", "icon_waypoint_dom_c", 1 );
    _setdomflagiconinfo( "waypoint_taking_br_d", "friendly", "MP_INGAME_ONLY/OBJ_TAKING_CAPS", "icon_waypoint_dom_d", 1 );
    _setdomflagiconinfo( "waypoint_taking_br_e", "friendly", "MP_INGAME_ONLY/OBJ_TAKING_CAPS", "icon_waypoint_dom_e", 1 );
    _setdomflagiconinfo( "waypoint_losing_br_a", "enemy", "MP_INGAME_ONLY/OBJ_LOSING_CAPS", "icon_waypoint_dom_a", 1 );
    _setdomflagiconinfo( "waypoint_losing_br_b", "enemy", "MP_INGAME_ONLY/OBJ_LOSING_CAPS", "icon_waypoint_dom_b", 1 );
    _setdomflagiconinfo( "waypoint_losing_br_c", "enemy", "MP_INGAME_ONLY/OBJ_LOSING_CAPS", "icon_waypoint_dom_c", 1 );
    _setdomflagiconinfo( "waypoint_losing_br_d", "enemy", "MP_INGAME_ONLY/OBJ_LOSING_CAPS", "icon_waypoint_dom_d", 1 );
    _setdomflagiconinfo( "waypoint_losing_br_e", "enemy", "MP_INGAME_ONLY/OBJ_LOSING_CAPS", "icon_waypoint_dom_e", 1 );
    level._effect["vfx_smk_signal_green"] = loadfx( "vfx/iw8_cp/prop/vfx_smk_signal_green" );
    scripts\mp\gametypes\br_dom_quest.gsc::_id_12442();
    level thread _id_12CB2();
}

puddle_fx()
{
    waittillframeend;
    game["dialog"]["gametype"] = "gametype_rumble";
    game["dialog"]["primary_objective"] = "gametype_desc_rumble_alt";
    game["dialog"]["score_friendly_50_percent"] = "score_friendly_50_percent";
    game["dialog"]["score_friendly_90_percent"] = "score_friendly_90_percent";
    game["dialog"]["score_friendly_ahead_50"] = "score_friendly_ahead_50";
    game["dialog"]["score_friendly_win"] = "score_friendly_win";
    game["dialog"]["score_enemy_50_percent"] = "score_enemy_50_percent";
    game["dialog"]["score_enemy_90_percent"] = "score_enemy_90_percent";
    game["dialog"]["score_enemy_ahead_50"] = "score_enemy_ahead_50";
    game["dialog"]["score_enemy_win"] = "score_enemy_win";
    game["dialog"]["dom_point_incoming"] = "dom_point_incoming";
    game["dialog"]["dom_point_started"] = "dom_point_started";
    game["dialog"]["dom_point_friendly_capture_single"] = "dom_point_friendly_capture";
    game["dialog"]["dom_point_friendly_capture_1"] = "dom_point_friendly_capture_1";
    game["dialog"]["dom_point_friendly_capture_2"] = "dom_point_friendly_capture_2";
    game["dialog"]["dom_point_friendly_capture_all"] = "dom_point_friendly_capture_all";
    game["dialog"]["dom_point_enemy_capture_single"] = "dom_point_enemy_capture";
    game["dialog"]["dom_point_enemy_capture_1"] = "dom_point_enemy_capture_1";
    game["dialog"]["dom_point_enemy_capture_2"] = "dom_point_enemy_capture_2";
    game["dialog"]["dom_point_enemy_capture_all"] = "dom_point_enemy_capture_all";
    game["dialog"]["hvt_incoming"] = "hvt_incoming";
    game["dialog"]["hvt_started"] = "hvt_started";
    game["dialog"]["hvt_hunted"] = "hvt_hunted";
    game["dialog"]["hvt_survived"] = "hvt_survived";
    game["dialog"]["hvt_friendly_down"] = "hvt_friendly_down";
    game["dialog"]["hvt_all_friendlies_down"] = "hvt_friendlies_down";
    game["dialog"]["hvt_enemy_down"] = "hvt_enemy_down";
    game["dialog"]["hvt_all_enemies_down"] = "hvt_enemies_down_all";
}

_setdomflagiconinfo( var_0, var_1, var_2, var_3, var_4 )
{
    level.waypointcolors[var_0] = var_1;
    level.waypointbgtype[var_0] = 0;
    level.waypointstring[var_0] = var_2;
    level.waypointshader[var_0] = var_3;
    level.waypointpulses[var_0] = var_4;
}

_id_12CB2()
{
    level waittill( "br_dialog_initialized" );
    level.disableinitplayergameobjects = 0;
}

setquestrewardtier( var_0 )
{
    if ( level.laststand )
        return 1;

    return 0;
}

race_ent()
{
    waitframe();
    level._id_12C86 = ::_id_12C6E;
    level.ontimelimit = ::tv_station_fastrope_one_infil_rider_start_targetname;
    level.endgame = ::endgame;
    level.claymore_crate_spawn = ::claymore_crate_player_at_max_ammo;
    scripts\mp\rank::use_emp_drone_func( "kill", level.current_puddle_count.i_xp_per_kill );
    scripts\mp\rank::use_emp_drone_func( "assist", level.current_puddle_count.i_xp_per_assist );
    scripts\mp\rank::use_emp_drone_func( "br_cacheopen", level.current_puddle_count.i_xp_per_cache_open );

    if ( !level.laststand )
        scripts\mp\tweakables::settweakablevalue( "player", "laststand", 0 );

    scripts\mp\gametypes\br_gametypes.gsc::helihint_wait( "waitLoadoutDone" );
    scripts\mp\flags::gameflaginit( "rumble_location_selected", 1 );
    scripts\mp\flags::gameflaginit( "infil_complete", 0 );
    level thread puddle_fx();
    level thread race_countdown_update();
}

race_countdown_update()
{
    scripts\mp\flags::gameflagwait( "prematch_fade_done" );
    scripts\mp\flags::gameflagwait( "infil_complete" );
    level.claymore_forceclampangles = 5;
    level thread _id_12165();
    level thread _id_12FA9();
    level thread vehicle_preventplayercollisiondamagefortimeafterexit();
    level thread br_updategameevents();
}

_loadout_setcopyloadoutomvnaronspawn()
{

}

extra_glow_sticks_init()
{
    level.br_level._id_129EC = 1;
    var_0 = _id_12024();
    level.current_puddle_count._id_120C1 = modify_juggernaut_damage( var_0 );

    if ( !scripts\mp\flags::lootcachespawncontents( "rumble_location_selected " ) )
        scripts\mp\flags::gameflaginit( "rumble_location_selected", 1 );

    level notify( "rumble_location_selected" );
    level.extract_ismissionweapon = level.current_puddle_count._id_120C1.exterior_goal_func;
    var_1 = getdvarint( "scr_br_timelimit" );
    level.br_level.br_circledelaytimes = [ var_1 * 2 ];
    level.br_level.br_circleclosetimes = [ var_1 * 2 ];
    level.br_level.br_circleradii = [ level.current_puddle_count._id_120C1.circle_radius, level.current_puddle_count._id_120C1.circle_radius ];
    level.br_level.br_circleminimapradii = [ level.current_puddle_count._id_120C1.circle_radius ];
    level.br_level.circlesettingsassert = [ 0 ];
    level.br_level.circlesetup = [ 0 ];
    rear_minigun_attack_max_cooldown();
}

never_unloaded_from_vehicle()
{
    return level.current_puddle_count._id_120C1.exterior_goal_func;
}

get_focus_fire_icon_image()
{
    var_0 = ( level.br_level.circleradius[0][0], level.br_level.circleradius[0][1], 0 );
    var_1 = level.br_level.br_circleradii[0] * 0.66;
    var_2 = scripts\mp\gametypes\br_c130.gsc::createtestc130path( var_0, var_1 );
    return var_2;
}

apc_rus_monitordriverturretreload()
{
    thread seq3_has_seen_tiers();
}

seq3_has_seen_tiers()
{
    level endon( "game_ended" );
    self endon( "death" );
    var_0 = distance( self.vehicle_collision_update.startpt, self.vehicle_collision_update.invuln_to_veh_crush );
    var_1 = var_0 / scripts\mp\gametypes\br_c130.gsc::getc130speed() - 5;
    wait( var_1 );

    foreach ( var_3 in level.players )
    {
        if ( isdefined( var_3 ) && isdefined( var_3.br_infil_type ) && var_3.br_infil_type == "c130" && !isdefined( var_3.jumptype ) )
        {
            var_3.jumptype = "outOfBounds";
            var_3 notify( "halo_kick_c130" );
        }
    }
}

_maphint_keypadscriptableused()
{

}

hvt_visual_callout()
{
    scripts\mp\deathicons::_id_11EC1();

    for ( var_0 = 0; var_0 < level.players.size; var_0++ )
    {
        var_1 = level.players[var_0];

        if ( !isdefined( var_1 ) )
            continue;

        if ( !isalive( var_1 ) )
            var_1 scripts\mp\playerlogic::spawnplayer( 0 );

        if ( istrue( var_1.clean_up_search ) )
            scripts\mp\gametypes\br.gsc::_id_12FD8( var_1 );

        var_1 setclientomnvar( "ui_br_infil_started", 1 );
        var_1 setclientomnvar( "ui_br_infiled", 1 );
        var_1 scripts\mp\gametypes\br_gulag.gsc::gulagfadetoblack();
        var_2 = var_1 module_vehicles_count();
        var_3 = var_1 scripts\mp\gametypes\br_gulag.gsc::_id_11977( var_2 );
    }

    wait 2.0;

    foreach ( var_1 in level.players )
    {
        if ( !isdefined( var_1 ) )
            continue;

        var_1 thread watch_for_super_ammo_depleted();
    }

    level thread _id_12A2D();
    scripts\mp\flags::gameflagset( "prematch_fade_done" );
    scripts\mp\flags::gameflagset( "infil_complete" );
    waitframe();

    if ( !getdvarint( "scr_brRumble_quests_enabled", 1 ) )
        level thread scripts\mp\gametypes\br_quest_util.gsc::helidestroyvehiclestouchnotify();

    setomnvar( "ui_br_circle_state", 4 );
}

_id_12A2D()
{
    level endon( "game_ended" );
    wait 10;
    level thread scripts\mp\music_and_dialog::stopsuspensemusic();
}

_id_125B2()
{
    scripts\mp\flags::gameflagset( "infil_complete" );
}

_precalcsafecirclecenters()
{

}

_id_11A17( var_0 )
{
    self endon( "disconnect" );
    scripts\mp\flags::gameflagwait( "prematch_fade_done" );
    self waittill( "player_rumble_spawn_complete" );
    wait 1;
    scripts\mp\hud_message::showsplash( "br_gametype_rumble_welcome" );
    scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "gametype", self, 0 );
    scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "primary_objective", self, 0 );
}

rear_minigun_attack_max_cooldown()
{
    level.current_puddle_count._id_120C1._id_127E2["allies"] = level.current_puddle_count._id_120C1._id_126FE;
    level.current_puddle_count._id_120C1._id_127E2["axis"] = level.current_puddle_count._id_120C1._id_126FF;
    level.current_puddle_count._id_120C1._id_12827["allies"] = anglestoforward( ( 0, level.current_puddle_count._id_120C1._id_1269E, 0 ) );
    level.current_puddle_count._id_120C1._id_12827["axis"] = anglestoforward( ( 0, level.current_puddle_count._id_120C1._id_1269F, 0 ) );
    level.current_puddle_count._id_120C1._id_12797 = level.current_puddle_count._id_120C1._id_126A1;
    level.current_puddle_count._id_120C1._id_12796 = level.current_puddle_count._id_120C1._id_126A0;
    level.current_puddle_count._id_120C1._id_127BC = level.current_puddle_count._id_120C1._id_126CD;
    level.current_puddle_count._id_120C1._id_127BB = level.current_puddle_count._id_120C1._id_126CC;
    level.current_puddle_count._id_120C1._id_127F8 = level.current_puddle_count._id_120C1._id_12740;
    level.current_puddle_count._id_120C1._id_127F7 = level.current_puddle_count._id_120C1._id_1273F;
    var_0 = level.current_puddle_count._id_120C1.exterior_goal_func + level.current_puddle_count._id_120C1._id_12827["allies"] * level.current_puddle_count._id_120C1.circle_radius * level.current_puddle_count._id_120C1._id_127BC;
    var_1 = level.current_puddle_count._id_120C1.exterior_goal_func + level.current_puddle_count._id_120C1._id_12827["axis"] * level.current_puddle_count._id_120C1.circle_radius * level.current_puddle_count._id_120C1._id_127BC;
    level.current_puddle_count._id_120C1.spawnorigin["allies"] = var_0;
    level.current_puddle_count._id_120C1.spawnorigin["axis"] = var_1;
    level.current_puddle_count._id_120C1.keypad_playeridlewatch = level.current_puddle_count._id_120C1._id_126E9;
    level thread _id_11B4C();
}

_id_11B4C()
{
    level._id_11D90 = [];
    level._id_11D90["allies"] = [];
    level._id_11D90["axis"] = [];
    var_0 = getdvarint( "scr_br_teamsize", 50 );
    var_1 = getdvarint( "scr_brRumble_spawn_trace_count", 5 );

    while ( !isdefined( level.teamnamelist ) )
        waitframe();

    var_2 = 0;
    var_3 = scripts\mp\teams::_id_124DB();

    foreach ( var_5 in level.teamnamelist )
    {
        if ( var_3 && var_5 == "team_two_hundred" )
            continue;

        for ( var_6 = 0; var_6 < var_0; var_6++ )
        {
            var_7 = spawnstruct();
            var_8 = vectortoangles( level.current_puddle_count._id_120C1._id_12827[var_5] );
            var_9 = randomfloatrange( level.current_puddle_count._id_120C1._id_12797, level.current_puddle_count._id_120C1._id_12796 );
            var_10 = anglestoforward( ( 0, var_8[1] + scripts\engine\utility::ter_op( scripts\engine\utility::cointoss(), var_9, var_9 * -1 ), 0 ) );
            var_11 = randomfloatrange( level.current_puddle_count._id_120C1._id_127BC, level.current_puddle_count._id_120C1._id_127BB );
            var_12 = level.current_puddle_count._id_120C1.exterior_goal_func + var_10 * level.current_puddle_count._id_120C1.circle_radius * var_11;

            if ( istrue( level.current_puddle_count._id_120C1.keypad_playeridlewatch ) )
            {
                var_13 = level.current_puddle_count._id_120C1.spawnorigin[scripts\mp\utility\game::getotherteam( var_5 )[0]] - var_12;
                var_8 = vectortoangles( var_13 );
            }
            else
                var_8 = vectortoangles( var_10 * -1 );

            var_14 = scripts\engine\trace::create_default_contents( 1 );
            var_15 = 0;
            var_16 = 0;
            var_17 = 10;
            var_18 = [];

            for ( var_19 = 0; var_19 < var_1; var_19++ )
            {
                var_20 = scripts\engine\trace::ray_trace( var_12 + ( 0, 0, 10000 ), var_12 - ( 0, 0, 20000 ) + anglestoforward( var_8 ) * var_19 * 2000, undefined, var_14 )["position"];
                var_18[var_18.size] = var_20;

                if ( var_20[2] > var_15 )
                {
                    var_15 = var_20[2];
                    var_16 = var_19;
                }

                var_2++;

                if ( var_2 == 5 )
                {
                    waitframe();
                    var_2 = 0;
                }
            }

            var_12 = ( var_12[0], var_12[1], var_15 + level.current_puddle_count._id_120C1._id_127E2[var_5] );
            var_7.origin = var_12;
            var_7._id_12D27 = var_18;
            var_7.playerwaittillcinematiccomplete = var_16;
            var_7.angles = var_8;
            var_7.time = gettime();
            var_7.team = var_5;
            var_7.index = -1;
            level._id_11D90[var_5][level._id_11D90[var_5].size] = var_7;
        }
    }
}

module_vehicles_count()
{
    if ( !isdefined( self._id_11D8F ) )
    {
        self._id_11D8F = spawnstruct();
        return manage_health_stage_allows();
    }

    self.ti_spawn = 0;

    if ( isdefined( self.setspawnpoint ) )
    {
        var_0 = self.setspawnpoint;

        if ( !istrue( self.setspawnpoint.notti ) )
        {
            self.ti_spawn = 1;
            self playlocalsound( "tactical_spawn" );

            foreach ( var_2 in level.teamnamelist )
            {
                if ( var_2 != self.team )
                    self playsoundtoteam( "tactical_spawn", var_2 );
            }
        }

        foreach ( var_5 in level.ugvs )
        {
            if ( distancesquared( var_5.origin, self.setspawnpoint.playerspawnpos ) < 1024 )
                var_5 notify( "damage", 5000, var_5.owner, ( 0, 0, 0 ), ( 0, 0, 0 ), "MOD_EXPLOSIVE", "", "", "", undefined, getcompleteweaponname( "killstreak_jammer_mp" ) );
        }

        var_7 = vectortoangles( level.current_puddle_count._id_120C1._id_12827[self.team] );
        var_8 = randomfloatrange( level.current_puddle_count._id_120C1._id_12797, level.current_puddle_count._id_120C1._id_12796 );
        var_9 = anglestoforward( ( 0, var_7[1] + scripts\engine\utility::ter_op( scripts\engine\utility::cointoss(), var_8, var_8 * -1 ), 0 ) );
        var_10 = randomfloatrange( level.current_puddle_count._id_120C1._id_127F8, level.current_puddle_count._id_120C1._id_127F7 );
        var_11 = self.setspawnpoint.playerspawnpos + var_9 * var_10;

        if ( distance2dsquared( var_11, level.current_puddle_count._id_120C1.exterior_goal_func ) > level.current_puddle_count._id_120C1.circle_radius * level.current_puddle_count._id_120C1.circle_radius )
        {
            var_12 = vectornormalize( var_11 - level.current_puddle_count._id_120C1.exterior_goal_func );
            var_11 = level.current_puddle_count._id_120C1.exterior_goal_func + var_12 * level.current_puddle_count._id_120C1.circle_radius * 0.99;
        }

        var_13 = scripts\engine\trace::create_default_contents( 1 );
        var_14 = scripts\engine\utility::drop_to_ground( var_11, 10000, -20000, undefined, var_13 );
        var_11 = ( var_11[0], var_11[1], var_14[2] );
        var_11 = var_11 + ( 0, 0, 1 ) * level.current_puddle_count._id_120C1._id_127E2[self.team];
        self._id_11D8F.origin = var_11;
        self._id_11D8F.angles = self.setspawnpoint.playerspawnangles;
        self._id_11D8F.lifeid = self.lifeid;
        self._id_11D8F.time = gettime();
        scripts\mp\equipment\tac_insert::_id_12801( 0, 1 );
    }
    else if ( self._id_11D8F.team != self.team || self._id_11D8F.lifeid != self.lifeid )
        return manage_health_stage_allows();

    return self._id_11D8F;
}

manage_health_stage_allows()
{
    var_0 = randomint( level._id_11D90[self.team].size );
    var_1 = level._id_11D90[self.team][var_0];
    self._id_11D8F.origin = var_1.origin;
    self._id_11D8F.angles = var_1.angles;
    self._id_11D8F.time = gettime();
    self._id_11D8F.team = self.team;
    self._id_11D8F.index = -1;
    self._id_11D8F.lifeid = self.lifeid;
    return self._id_11D8F;
}

watch_for_super_ammo_depleted()
{
    self endon( "disconnect" );
    scripts\mp\gametypes\br_public.gsc::_id_11981();
    self._id_125BE = 1;
    self._id_11F59 = 1;
    self.plotarmor = 1;

    if ( !isalive( self ) )
        scripts\mp\playerlogic::spawnplayer( 0 );

    if ( istrue( self.clean_up_search ) )
        scripts\mp\gametypes\br.gsc::_id_12FD8( self );

    waitframe();
    thread keypadscriptableused_altbunker();
    scripts\mp\gametypes\br_public.gsc::_id_11A13();
    self.plotarmor = undefined;
    self._id_11F59 = undefined;
    self freezecontrols( 1 );
    self playerhide();
    thread watch_for_second_input();
}

watch_for_second_input()
{
    self endon( "disconnect" );
    scripts\cp_mp\execution::_clearexecution();
    scripts\mp\gametypes\br_pickups.gsc::initplayer();
    var_0 = module_vehicles_count();
    var_1 = scripts\mp\gametypes\br_gulag.gsc::_id_11977( var_0 );
    scripts\mp\gametypes\br_gulag.gsc::gulagwinnerrespawn( 1, undefined, var_0, 1, var_1, 1, undefined, undefined, undefined, 1 );

    if ( istrue( self.clean_up_search ) )
        scripts\mp\gametypes\br.gsc::_id_12FD8( self );

    scripts\mp\trials\trial_utility::_id_12360( "ui_br_transition_type", 0 );
    scripts\mp\damage::resetplayervariables();
    thread override_supply_drop_vfx();

    if ( scripts\mp\flags::gameflag( "prematch_fade_done" ) )
    {
        if ( level.mapname == "mp_don4" || level.mapname == "mp_don4_pm" )
            _id_12323();

        thread watch_for_damage_on_turret();
    }

    waittillframeend;
    self clearsoundsubmix( "mp_br_lobby_fade", 1.5 );
    self clearsoundsubmix( "deaths_door_mp", 1 );
    self._id_125BE = 0;
    scripts\mp\gametypes\br.gsc::current_respawn_point_override();
    thread _id_12FA2();
}

watch_for_damage_on_turret()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "rumble_remove_spawn_protection" );
    self._id_12014 = 1;
    thread watchforteammaterevivedwhilereviving();
}

watchforteammaterevivedwhilereviving()
{
    thread watchspecialgrenadethrow();
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "rumble_remove_spawn_protection" );
    scripts\engine\utility::_id_13405( 10, "vehicle_enter", "weapon_fired", "rumble_remove_spawn_protection_early" );
    thread watchspawnwallplayerexit();
}

watchspawnwallplayerexit()
{
    self._id_12014 = 0;
    self notify( "rumble_remove_spawn_protection" );
}

watchspecialgrenadethrow()
{
    self endon( "death_or_disconnect" );

    while ( !self isonground() )
        waitframe();

    self notify( "rumble_remove_spawn_protection_early" );
}

gulagwinnerrespawn( var_0 )
{
    var_0 notify( "player_rumble_spawn_complete" );
    var_0 thread override_supply_drop_vfx();
}

playerrespawn( var_0, var_1 )
{
    if ( !scripts\mp\flags::gameflag( "prematch_done" ) )
        return 0;

    if ( game["state"] == "playing" && !level.timerstopped )
    {
        var_2 = scripts\mp\gamelogic::gettimeremaining() / 1000;

        if ( var_2 < 12.0 )
            return 0;
    }

    thread _id_119D2( var_0 );
    return 1;
}

_id_119D2( var_0 )
{
    level endon( "game_ended" );
    self endon( "disconnect" );

    if ( getdvarint( "scr_bmo_use_spawn_fix", 1 ) == 1 )
        self endon( "brWaitAndSpawnClientComplete" );

    if ( istrue( level.gameended ) )
        level waittill( "forever" );

    wait 3.0;

    while ( istrue( self.killcam ) )
        waitframe();

    var_1 = level.brplacementchallengeallowed;
    var_2 = getdvarfloat( "scr_bmo_respawn_predict_hint_time", 5.0 );

    if ( var_1 < var_2 )
        var_1 = var_2;

    if ( level._id_11F64 != 0 )
        var_1 = 0;

    thread _id_1252D( var_1 );
    scripts\engine\utility::ent_flag_init( "playerRespawn_intermission_spawned" );
    self.remove_bank_lbravos = undefined;
    self.remove_carry_item = undefined;
    var_3 = var_1 - var_2;
    var_4 = var_1 - var_3;
    var_5 = var_1 - getdvarfloat( "scr_brRumble_respawn_intermission_time", 6.0 );
    thread kickplayersatcircleedge();
    wait( var_3 );
    thread _id_130AA();
    wait( var_4 );
    self notify( "stop_updatePrestreamRespawn" );
    var_6 = module_vehicles_count();
    var_7 = scripts\mp\gametypes\br_gulag.gsc::_id_11977( var_6 );
    scripts\engine\utility::ent_flag_clear( "playerRespawn_intermission_spawned" );
    self.remove_bank_lbravos = undefined;
    self.remove_carry_item = undefined;
    scripts\mp\utility\lower_message::setlowermessageomnvar( 0 );

    if ( !isalive( self ) )
        scripts\mp\playerlogic::spawnplayer( undefined, 0 );

    scripts\cp_mp\execution::_clearexecution();
    scripts\mp\gametypes\br_pickups.gsc::initplayer();
    scripts\mp\gametypes\br_gulag.gsc::gulagwinnerrespawn( 1, undefined, var_6, 1, var_7, 1 );
    scripts\mp\gametypes\br.gsc::_id_12FD8( self );
    scripts\mp\trials\trial_utility::_id_12360( "ui_br_transition_type", 0 );
    scripts\mp\damage::resetplayervariables();

    if ( isdefined( self.requiredplayercountoveride ) )
        self.requiredplayercountoveride = undefined;

    if ( scripts\mp\flags::gameflag( "prematch_fade_done" ) )
    {
        if ( level.mapname == "mp_don4" || level.mapname == "mp_don4_pm" )
            _id_12323();

        thread watch_for_damage_on_turret();
    }
}

_id_1252D( var_0 )
{
    self endon( "disconnect" );
    scripts\mp\utility\lower_message::setlowermessageomnvar( 9, int( gettime() + var_0 * 1000 ) );
    scripts\mp\gametypes\br_gulag.gsc::_id_123BF( 1 );

    if ( isdefined( var_0 ) )
        wait( var_0 );

    thread playerspawnexfilchopper();
}

playerspawnexfilchopper()
{
    scripts\mp\gametypes\br_gulag.gsc::_id_123BF( 0 );
    scripts\mp\utility\lower_message::setlowermessageomnvar( 0 );
}

override_supply_drop_vfx()
{
    waitframe();
    self.br_armorhealth = self.br_maxarmorhealth;
    scripts\mp\equipment\armor_plate::choppersupport_watchtargetrange( self.br_armorhealth );
}

kickplayersatcircleedge( var_0 )
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    self endon( "spawned_player" );
    self notify( "fadeToGearingUp" );
    self endon( "fadeToGearingUp" );

    if ( isdefined( var_0 ) && var_0 > 0 )
        wait( var_0 );

    thread keypadsetup();
    var_1 = 1.0;
    wait( var_1 - 0.25 );
    thread _id_12FA2();
    scripts\mp\gametypes\br.gsc::current_respawn_point_override();
    scripts\mp\trials\trial_utility::_id_12360( "ui_br_transition_type", 2 );
    wait 0.25;

    if ( getdvarint( "scr_bmo_use_spawn_intermission_fix", 1 ) == 1 )
    {
        scripts\mp\gametypes\br_public.gsc::weapon_xp_iw8_ar_kilo433();
        var_2 = module_vehicles_count();
        scripts\mp\gametypes\br_spectate.gsc::weapon_xp_iw8_ar_golf36();
        scripts\mp\gametypes\br.gsc::spawnintermission( var_2.origin, var_2.angles );
        scripts\mp\spectating::setdisabled();
        self.remove_bank_lbravos = var_2.origin;
        self.remove_carry_item = gettime();
        scripts\engine\utility::ent_flag_set( "playerRespawn_intermission_spawned" );
    }
}

keypadsetup()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    scripts\mp\gametypes\br_gulag.gsc::gulagfadetoblack();
    self waittill( "spawned_player" );
    scripts\mp\gametypes\br_gulag.gsc::gulagfadefromblack();
}

keypadscriptableused_altbunker()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    self waittill( "spawned_player" );
    scripts\mp\gametypes\br_gulag.gsc::gulagfadefromblack();
}

_id_130AA()
{
    self endon( "disconnect" );
    self endon( "spawned_player" );
    self endon( "stop_updatePrestreamRespawn" );

    for (;;)
    {
        if ( scripts\engine\utility::ent_flag( "playerRespawn_intermission_spawned" ) )
        {
            var_0 = module_vehicles_count();
            var_1 = gettime();

            if ( var_1 - self.remove_carry_item >= getdvarfloat( "scr_bmo_spawn_fallback_hint_delay", 2.0 ) * 1000 )
            {
                var_0 = module_vehicles_count();
                var_2 = scripts\mp\gametypes\br_gulag.gsc::_id_11977( var_0 );
            }
        }
        else
        {
            var_0 = module_vehicles_count();
            var_2 = scripts\mp\gametypes\br_gulag.gsc::_id_11977( var_0 );
        }

        wait 1.0;
    }
}

_id_127E1( var_0 )
{
    return scripts\mp\flags::gameflag( "prematch_done" );
}

modifyplayerdamage( var_0 )
{
    var_1 = var_0.damage;
    var_2 = var_0.attacker;

    if ( istrue( self._id_12014 ) )
    {
        if ( isdefined( var_2 ) && ( isplayer( var_2 ) || isbot( var_2 ) ) )
        {
            var_1 = 0;
            var_2 scripts\mp\damagefeedback::updatedamagefeedback( "hitspawnprotect" );
        }
    }

    return var_1;
}

onplayerkilled( var_0 )
{
    if ( !istrue( level.br_prematchstarted ) )
        return;

    if ( level.gameended )
        return;

    var_1 = var_0.victim;
    var_2 = var_0.attacker;
    _calloutmarkerping_handleluinotify_enemyrepinged::tuttxtbox( var_0 );
    _calloutmarkerping_handleluinotify_brinventoryslotrequest::tuttxtbox( var_0 );
    vehicle_remove_invulnerability_onenter( var_2, var_1, var_0.meansofdeath );

    if ( !isdefined( var_2 ) || !isplayer( var_2 ) || !isdefined( var_1 ) )
        return;

    foreach ( var_4 in var_1 getweaponslist( "primary", "exclusive" ) )
    {
        var_5 = undefined;

        switch ( var_4.basename )
        {
            case "iw8_lm_dblmg_mp":
                var_5 = "brloot_weapon_lm_dblmg_lege";
                break;
            case "iw8_la_mike32_mp":
                var_5 = "brloot_weapon_la_mike32_lege";
                break;
        }

        if ( isdefined( var_5 ) )
            scripts\mp\gametypes\br_pickups.gsc::init_range_targets( var_5, spawn_little_bird_mg_at_location( var_1.origin ) );
    }

    if ( var_1 == var_2 )
        return;

    vehicle_occupancy_getreserving( var_2, var_1 );
    vehicle_registerturret( var_2, var_1 );

    if ( isdefined( var_2.team ) )
    {
        var_7 = level.current_puddle_count.poweron_warnings;

        if ( istrue( var_2._id_11B35 ) )
            var_7 = var_7 * 2;

        level scripts\mp\gamescore::giveteamscoreforobjective( var_2.pers["team"], var_7, 0 );
    }
}

anim_scene_stance_override( var_0, var_1 )
{
    if ( self == var_1 || !isdefined( var_1 ) )
        return;

    var_2 = getdvarint( "scr_brRumble_powerup_drop_chance_on_death", 33 );
    _calloutmarkerping_isdropcrate::init_relic_shieldsonly( var_0, var_2 );
}

onplayerconnect( var_0 )
{
    var_0 endon( "disconnect" );
    var_0 waittill( "spawned_player" );

    if ( istrue( level.current_puddle_count.showteammateoutlineshader ) )
        var_0 turn_on_player_outline();

    var_0 thread override_supply_drop_vfx();
    var_0 thread tutzonetriggerlogic();
}

tutzonetriggerlogic()
{
    level endon( "game_ended" );
    self endon( "disconnect" );

    for (;;)
    {
        self waittill( "spawned_player" );
        thread override_supply_drop_vfx();
    }
}

playerdropplunderondeath( var_0, var_1 )
{
    if ( scripts\mp\utility\game::runextractreroll( self ) )
        return 1;

    if ( istrue( level.gameended ) )
        return 1;

    if ( isdefined( self.plundercount ) && self.plundercount > 0 )
        var_2 = self.plundercount;
    else
        var_2 = 0;

    if ( istrue( self.risk_flagspawnmincount ) )
    {
        var_3 = 0;
        var_4 = level.current_puddle_count._id_11ACF;
    }
    else
    {
        var_3 = int( var_2 * level.current_puddle_count._id_11AD8 + 0.5 );
        var_4 = int( level.current_puddle_count._id_11ACF + var_2 * level.current_puddle_count._id_11AD0 + 0.5 );
    }

    self.plundercountondeath = var_3;
    scripts\mp\gametypes\br_plunder.gsc::playersetplundercount( var_3 );

    if ( var_4 <= 0 )
        return;

    scripts\mp\gametypes\br_plunder.gsc::init_reach_pipe_room( var_4, var_0 );
    return 1;
}

_maphint_phonescriptableused()
{

}

init_locations()
{
    _id_11DC5( "farm", 1 );
    _id_11DC5( "prom_east", 1 );
    _id_11DC5( "downtown", 1 );
    _id_11DC5( "factory", 1 );
    _id_11DC5( "boneyard", 1 );
    _id_11DC5( "train", 1 );
}

_id_11DC5( var_0, var_1 )
{
    if ( !isdefined( level.current_puddle_count.ai_push_to_position ) )
        level.current_puddle_count.ai_push_to_position = [];

    var_1 = getdvarint( "scr_brRumble_location_weight_" + var_0, var_1 );

    if ( var_1 <= 0 )
        return;

    level.current_puddle_count.ai_push_to_position[var_0] = var_1;
}

_id_12024()
{
    if ( level.mapname != "mp_don4" && level.mapname != "mp_don4_pm" )
        return "default";

    if ( isdefined( level.current_puddle_count._id_12A5F ) && level.current_puddle_count._id_12A5F != "random" )
    {
        foreach ( var_2, var_1 in level.current_puddle_count.ai_push_to_position )
        {
            if ( level.current_puddle_count._id_12A5F == var_2 )
                return var_2;
        }
    }

    var_3 = 0;

    foreach ( var_1 in level.current_puddle_count.ai_push_to_position )
        var_3 = var_3 + var_1;

    var_6 = randomintrange( 0, var_3 );

    foreach ( var_2, var_1 in level.current_puddle_count.ai_push_to_position )
    {
        if ( var_6 < var_1 )
            return var_2;

        var_6 = var_6 - var_1;
    }
}

modify_juggernaut_damage( var_0 )
{
    var_1 = spawnstruct();
    var_1._id_12A60 = "default";
    var_1.exterior_goal_func = ( 300, -800, 0 );
    var_1.circle_radius = 6000;
    var_1._id_1269E = 0;
    var_1._id_1269F = 180;
    var_1._id_126FE = level.current_puddle_count.postspawn_initial_allies;
    var_1._id_126FF = level.current_puddle_count.postspawn_initial_allies;
    var_1._id_126A1 = 0;
    var_1._id_126A0 = 30;
    var_1._id_126CD = 0.9;
    var_1._id_126CC = 0.99;
    var_1._id_126E9 = 0;
    var_1._id_12740 = 1000;
    var_1._id_1273F = 3000;
    var_1._id_1285D = ( 0, 0, 0 );
    var_1._id_1285C = ( 0, 0, 0 );

    switch ( var_0 )
    {
        case "farm":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( 49484, -10727, 85 );
            var_1.circle_radius = 11500;
            var_1._id_1269E = 110;
            var_1._id_1269F = 270;
            var_1._id_1285D = ( 17027, -35357, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_1 _id_11DC1( 0, ( 54664, -9938, -675 ) );
            var_1 _id_11DC1( 0, ( 43676, -12967, -51 ) );
            var_1 _id_11DC1( 1, ( 49419, -10243, 86 ), 740 );
            var_1 _id_11DD2( "cargo_truck", ( 43706, -18079, -549 ), ( 0, 73, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 49886, -18015, -399 ), ( 0, 83, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 53975, -16496, -373 ), ( 0, 85, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 48099, -17668, -279 ), ( 0, 101, 0 ) );
            var_1 _id_11DD2( "atv", ( 46803, -19754, -439 ), ( 0, 79, 0 ) );
            var_1 _id_11DD2( "jeep", ( 48727, -18973, -411 ), ( 0, 88, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 49864, -20510, -388 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 50454, -18919, -410 ), ( 0, 97, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 51158, -18075, -392 ), ( 0, 126, 0 ) );
            var_1 _id_11DD2( "jeep", ( 52513, -16885, -399 ), ( 0, 75, 0 ) );
            level _id_11DBC( ( 51677, -17228, -390 ), ( 0, 265, 0 ) );
            level _id_11DBC( ( 46798, -16032, -147 ), ( 0, 265, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 57471, -10952, -319 ), ( 0, 215, 0 ) );
            level _id_11DBC( ( 53205, -8423, -755 ), ( 0, 360, 0 ) );
            level _id_11DBC( ( 50135, -11340, 34 ), ( 0, 325, 0 ) );
            level _id_11DBC( ( 44958, -10508, -5 ), ( 0, 180, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 50826, -1749, 113 ), ( 0, 343, 0 ) );
            var_1 _id_11DD2( "atv", ( 50788, -2796, -197 ), ( 0, 308, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 50565, -4625, -319 ), ( 0, 280, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 47720, -3377, 38 ), ( 0, 227, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 45775, -1467, -89 ), ( 0, 270, 0 ) );
            var_1 _id_11DD2( "jeep", ( 47922, -6266, 260 ), ( 0, 226, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 43464, -4434, 251 ), ( 0, 269, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 44301, -5227, 285 ), ( 0, 290, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 42377, -6707, 234 ), ( 0, 263, 0 ) );
            level _id_11DBC( ( 45195, -4384, 279 ), ( 0, 53, 0 ) );
            level _id_11DBC( ( 47576, -4692, 243 ), ( 0, 82, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( 50484, -20609, 300 );
            level.plunder_items_picked_up.bunkervaults = ( 45693, -2421, 1350 );
            break;
        case "prom_east":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( 1241, -23018, 0 );
            var_1.circle_radius = 12500;
            var_1._id_1269E = 0;
            var_1._id_1269F = 180;
            var_1._id_1285D = ( 17027, -35357, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_1 _id_11DC1( 0, ( 2219, -30895, 58 ), 570 );
            var_1 _id_11DC1( 0, ( 2167, -17071, -15 ), 570 );
            var_1 _id_11DC1( 1, ( 1613, -23019, -295 ), 570 );
            var_1 _id_11DD2( "cargo_truck", ( -8358, -21408, -220 ), ( 0, 312, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -6839, -22157, -288 ), ( 0, 4, 0 ) );
            var_1 _id_11DD2( "jeep", ( -9138, -22763, -286 ), ( 0, 36, 0 ) );
            var_1 _id_11DD2( "atv", ( -8405, -23978, -288 ), ( 0, 347, 0 ) );
            var_1 _id_11DD2( "jeep", ( -6865, -24957, -94 ), ( 0, 351, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -5977, -25215, -95 ), ( 0, 356, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -4341, -23444, -285 ), ( 0, 55, 0 ) );
            var_1 _id_11DD2( "atv", ( -5642, -21215, -281 ), ( 0, 317, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -7297, -19671, -283 ), ( 0, 1, 0 ) );
            var_1 _id_11DD2( "atv", ( -6729, -19547, -280 ), ( 0, 350, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -5169, -20189, -288 ), ( 0, 275, 0 ) );
            var_1 _id_11DD2( "jeep", ( -4881, -16751, -277 ), ( 0, 3, 0 ) );
            var_1 _id_11DD2( "atv", ( -4440, -16560, -274 ), ( 0, 355, 0 ) );
            var_1 _id_11DD2( "atv", ( -4355, -17536, -194 ), ( 0, 330, 0 ) );
            level _id_11DBC( ( -7680, -20925, -281 ), ( 0, 136, 0 ) );
            level _id_11DBC( ( -8590, -23523, -286 ), ( 0, 180, 0 ) );
            var_1 _id_11DD2( "jeep", ( 5103, -26404, -290 ), ( 0, 175, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 5636, -25788, -289 ), ( 0, 207, 0 ) );
            var_1 _id_11DD2( "atv", ( 7645, -24024, -281 ), ( 0, 162, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 6390, -21283, -296 ), ( 0, 239, 0 ) );
            var_1 _id_11DD2( "atv", ( 7885, -21505, -283 ), ( 0, 204, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 9936, -21953, -292 ), ( 0, 168, 0 ) );
            var_1 _id_11DD2( "jeep", ( 9733, -22393, -289 ), ( 0, 151, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 9847, -21080, -295 ), ( 0, 248, 0 ) );
            var_1 _id_11DD2( "atv", ( 9246, -20185, -283 ), ( 0, 176, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 8157, -19483, -286 ), ( 0, 251, 0 ) );
            var_1 _id_11DD2( "atv", ( 4106, -18220, -283 ), ( 0, 161, 0 ) );
            var_1 _id_11DD2( "atv", ( 5374, -16745, -77 ), ( 0, 163, 0 ) );
            var_1 _id_11DD2( "jeep", ( 5919, -15196, -280 ), ( 0, 176, 0 ) );
            level _id_11DBC( ( 9778, -20654, -292 ), ( 0, 360, 0 ) );
            level _id_11DBC( ( 8411, -25708, -283 ), ( 0, 312, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 2994, -22691, -280 ), ( 0, 169, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( -1123, -18992, 1053 ), ( 0, 306, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 1615, -28875, 425 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -1833, -19004, -279 ), ( 0, 165, 0 ) );
            level _id_11DBC( ( 2420, -30886, 0.2 ), ( 0, 228, 0 ) );
            level _id_11DBC( ( -423, -11845, 687 ), ( 0, 357, 0 ) );
            level _id_11DBC( ( 1671, -23923, -282 ), ( 0, 268, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( -8136, -22180, 188 );
            level.plunder_items_picked_up.bunkervaults = ( 9197, -21876, 354 );
            break;
        case "downtown":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( 24152, -2841, 0 );
            var_1.circle_radius = 12500;
            var_1._id_1269E = 135;
            var_1._id_1269F = 315;
            var_1._id_1285D = ( 24152, -2841, 1505 );
            var_2 = 650;
            var_1 _id_11DC1( 0, ( 16719, -9018, -326 ), var_2 );
            var_1 _id_11DC1( 0, ( 31475, 5017, -606 ), var_2 );
            var_1 _id_11DC1( 1, ( 24648, -1742, -423 ), var_2 );
            var_1 _id_11DD2( "cargo_truck", ( 29127, -8521, -426 ), ( 0, 126, 0 ) );
            var_1 _id_11DD2( "atv", ( 31149, -8107, -424 ), ( 0, 142, 0 ) );
            var_1 _id_11DD2( "jeep", ( 31674, -8427, -422 ), ( 0, 120, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 31718, -7324, -422 ), ( 0, 134, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 29920, -10158, -419 ), ( 0, 155, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 30175, -9863, -424 ), ( 0, 158, 0 ) );
            level _id_11DBC( ( 28869, -10069, -413 ), ( 0, 311, 0 ) );
            level _id_11DBC( ( 32278, -6300, -423.5 ), ( 0, 314, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( 17625, 3218, -602 ), ( 0, 312, 0 ) );
            var_1 _id_11DD2( "atv", ( 18148, 3677, -594 ), ( 0, 310, 0 ) );
            var_1 _id_11DD2( "jeep", ( 21552, 4766, -453 ), ( 0, 294, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 20719, 4175, -454 ), ( 0, 306, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 19094, 3954, -463 ), ( 0, 272, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 16936, 1743, -592 ), ( 0, 313, 0 ) );
            level _id_11DBC( ( 19479, 4454, -455 ), ( 0, 137, 0 ) );
            level _id_11DBC( ( 14441, 1446, -497 ), ( 0, 131, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 28177, 2515, -450 ), ( 0, 219, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 22382, -2684, -126 ), ( 359, 44, 0 ) );
            var_1 _id_11DD2( "jeep", ( 21324, -3409, -549 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "atv", ( 25666, -631, -448 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 32371, 3572, -661 ), ( 0, 102, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 30892, 5168, -662 ), ( 0, 341, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 17080, -9108, -395 ), ( 0, 47, 0 ) );
            level _id_11DBC( ( 22289, -3007, -536 ), ( 0, 226, 0 ) );
            level _id_11DBC( ( 29664, 3208, -583 ), ( 0, 46, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( 30404, -8683, 354 );
            level.plunder_items_picked_up.bunkervaults = ( 17472, 3871, 354 );
            break;
        case "factory":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( -7432, 8413, 0 );
            var_1.circle_radius = 12500;
            var_1._id_1269E = 90;
            var_1._id_1269F = 270;
            var_1._id_1285D = ( 17027, -35357, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_1 _id_11DC1( 0, ( -12147, 8930, 240 ) );
            var_1 _id_11DC1( 0, ( 1320, 8348, -242 ) );
            var_1 _id_11DC1( 1, ( -7728, 8298, -269 ), 700 );
            var_1 _id_11DD2( "atv", ( -1030, -451, 407 ), ( 15, 85, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -2890, 2079, -323 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "atv", ( -7258, 2777, -317 ), ( 0, 175, 0 ) );
            var_1 _id_11DD2( "jeep", ( -10564, -12, -320 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -14244, 909, -333 ), ( 0, 0, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -7244, -1088, -322 ), ( 0, 38, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -6658, -1159, -322 ), ( 0, 88, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -7250, -1512, -321 ), ( 0, 20, 0 ) );
            var_1 _id_11DD2( "atv", ( -7138, -326, -320 ), ( 0, 48, 0 ) );
            var_1 _id_11DD2( "atv", ( -6967, -367, -320 ), ( 0, 84, 0 ) );
            var_1 _id_11DD2( "jeep", ( -5960, -873, -323 ), ( 0, 118, 0 ) );
            level _id_11DBC( ( -9961, -511, -261 ), ( 0, 270, 0 ) );
            level _id_11DBC( ( -4598, 1487, -260 ), ( 0, 270, 0 ) );
            level _id_11DBC( ( -12423, 6938, -334 ), ( 0, 270, 0 ) );
            level _id_11DBC( ( -1829, 5119, -269 ), ( 0, 270, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( -11556, 8906, 350 ), ( 0, 85, 0 ) );
            var_1 _id_11DD2( "atv", ( -3781, 7223, -327 ), ( 0, 90, 0 ) );
            var_1 _id_11DD2( "atv", ( -6056, 9524, -327 ), ( 0, 175, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -6152, 13377, -319 ), ( 0, 238, 0 ) );
            var_1 _id_11DD2( "atv", ( 1356, 14845, -170 ), ( 0, 277, 0 ) );
            var_1 _id_11DD2( "jeep", ( -14288, 15686, -324 ), ( 0, 294, 0 ) );
            var_1 _id_11DD2( "atv", ( -17542, 13404, -321 ), ( 0, 304, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -7917, 16181, -322 ), ( 0, 207, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -9795, 18347, -325 ), ( 0, 270, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -8937, 16918, -324 ), ( 0, 247, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -7710, 19556, -320 ), ( 0, 250, 0 ) );
            var_1 _id_11DD2( "atv", ( -8552, 18301, -257 ), ( 0, 278, 0 ) );
            var_1 _id_11DD2( "atv", ( -8190, 18194, -257 ), ( 0, 265, 0 ) );
            var_1 _id_11DD2( "jeep", ( -9617, 19898, -321 ), ( 0, 270, 0 ) );
            level _id_11DBC( ( -10353, 17486, -261 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -6468, 16361, -266 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -13353, 10478, -334 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -1870, 10633, -253 ), ( 0, 90, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( -7148, -1489, 48 );
            level.plunder_items_picked_up.bunkervaults = ( -8410, 19173, 150 );
            break;
        case "boneyard":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( -27719, -11191, 0 );
            var_1.circle_radius = 12000;
            var_1._id_1269E = 95;
            var_1._id_1269F = 275;
            var_1._id_1285D = ( 17027, -35357, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_3 = 600;
            var_1 _id_11DC1( 0, ( -34540, -11209, -138 ), var_3 );
            var_1 _id_11DC1( 0, ( -21660, -9985, -215 ), var_3 );
            var_1 _id_11DC1( 1, ( -27805, -10948, -37 ), var_3 );
            var_1 _id_11DD2( "little_bird_mg", ( -24735, -11594, 293 ), ( 0, 192, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( -36546, -11582, -33 ), ( 0, 48, 0 ) );
            var_1 _id_11DD2( "atv", ( -31884, -11609, -316 ), ( 0, 0, 0 ) );
            var_1 _id_11DD2( "atv", ( -21297, -9834, -297 ), ( 0, 194, 0 ) );
            var_1 _id_11DD2( "jeep", ( -37816, -11025, -211 ), ( 0, 37, 0 ) );
            level _id_11DBC( ( -23463, -9308, -287 ), ( 0, 22, 0 ) );
            level _id_11DBC( ( -29835, -10605, -34 ), ( 0, 190, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -25359, -19919, -275 ), ( 0, 127, 0 ) );
            var_1 _id_11DD2( "atv", ( -25864, -19104, -273 ), ( 0, 120, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -26011, -19552, -264 ), ( 0, 156, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -30052, -21341, -310 ), ( 0, 154, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -29678, -21177, -307 ), ( 0, 156, 0 ) );
            var_1 _id_11DD2( "atv", ( -23778, -17212, -287 ), ( 0, 111, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -23491, -16941, -290 ), ( 0, 106, 0 ) );
            level _id_11DBC( ( -26335, -17867, -266 ), ( 0, 312, 0 ) );
            level _id_11DBC( ( -29473, -19283, -231 ), ( 0, 270, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -28236, -3027, -314 ), ( 0, 268, 0 ) );
            var_1 _id_11DD2( "atv", ( -28427, -3641, -322 ), ( 0, 291, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -27676, -2995, -315 ), ( 0, 243, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -31597, -2132, -315 ), ( 0, 263, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -32109, -2278, -257 ), ( 0, 264, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -24102, -1617, -338 ), ( 0, 285, 0 ) );
            var_1 _id_11DD2( "atv", ( -25495, -1147, -278 ), ( 0, 283, 0 ) );
            level _id_11DBC( ( -26908, -3680, -314 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -30594, -4162, -316 ), ( 0, 90, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( -26812, -19849, 354 );
            level.plunder_items_picked_up.bunkervaults = ( -28253, -1876, 464 );
            break;
        case "train":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( -13966, -15822, 0 );
            var_1.circle_radius = 12000;
            var_1._id_1269E = 0;
            var_1._id_1269F = 180;
            var_1._id_126FE = 3500;
            var_1._id_126FF = 3500;
            var_1._id_126CD = 0.85;
            var_1._id_126CC = 0.95;
            var_1._id_1285D = ( -11013, -13729, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_1 _id_11DC1( 0, ( -13890, -22682, -193 ) );
            var_1 _id_11DC1( 0, ( -13376, -9992, -270 ) );
            var_1 _id_11DC1( 1, ( -13966, -15822, -254 ) );
            level _id_11DBC( ( -22181, -13143, -269 ), ( 0, 119, 0 ) );
            level _id_11DBC( ( -19640, -22301, -229 ), ( 0, 210, 0 ) );
            level _id_11DBC( ( -6401, -14487, -302 ), ( 0, 33, 0 ) );
            level _id_11DBC( ( -6390, -10332, -359 ), ( 0, 350, 0 ) );
            level _id_11DBC( ( -5793, -19415, -285 ), ( 0, 334, 0 ) );
            level _id_11DBC( ( -19169, -17837, -314 ), ( 0, 220, 0 ) );
            level _id_11DBC( ( -13500, -16477, 584 ), ( 0, 123, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -21226, -13969, -291 ), ( 360, 8, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -21766, -16346, -181 ), ( 10, 308, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -21486, -14662, -236 ), ( 359, 31, 0 ) );
            var_1 _id_11DD2( "atv", ( -20043, -12145, -185 ), ( 10, 25, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -23277, -12738, -111 ), ( 19, 333, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -21621, -17559, -143 ), ( 15, 344, 0 ) );
            var_1 _id_11DD2( "jeep", ( -22856, -13349, -226 ), ( 3, 329, -4 ) );
            var_1 _id_11DD2( "cargo_truck", ( -5957, -16528, -289 ), ( 2.5, 184, 3 ) );
            var_1 _id_11DD2( "tac_rover", ( -6566, -15585, -368 ), ( 360, 214, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -4587, -122257, -303 ), ( 7, 229, 0 ) );
            var_1 _id_11DD2( "atv", ( -4633, -17509, -119 ), ( 30, 193, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -6159, -12779, -302 ), ( 3, 235, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -5536, -14709, -307 ), ( 7, 205, 0 ) );
            var_1 _id_11DD2( "jeep", ( -4517, -15662, -236 ), ( 356, 174, 7 ) );
            var_1 _id_11DD2( "little_bird_mg", ( -12275, -8884, -215 ), ( 359, 305, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( -13808, -25070, -175 ), ( 5, 25, 0 ) );
            var_1 _id_11DD2( "atv", ( -14163, -10773, -329 ), ( 359, 135, 0 ) );
            var_1 _id_11DD2( "atv", ( -12509, -7132, -232 ), ( 8, 212, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( -13067, -20369, -360 ), ( 359, 359, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( -23249, -15636, 196 );
            level.plunder_items_picked_up.bunkervaults = ( -4786, -15292, 322 );
            var_4 = 500;
            var_1 _id_11DC1( 0, ( -25532, 10916, -320 ), var_4 );
            var_1 _id_11DC1( 0, ( -25688, -4413, -240 ), var_4 );
            var_1 _id_11DC1( 1, ( -25913, 2925, -84 ), var_4 );
            level _id_11DBC( ( -18579, 8406, -319 ), ( 0, 360, 0 ) );
            level _id_11DBC( ( -32029, 8356, -120 ), ( 0, 169, 0 ) );
            level _id_11DBC( ( -25571, 11520, -321 ), ( 0, 90, 0 ) );
            level _id_11DBC( ( -25549, 4042, -317 ), ( 0, 270, 0 ) );
            level _id_11DBC( ( -19048, -2008, -321 ), ( 0, 21, 0 ) );
            level _id_11DBC( ( -31016, -1960, -319 ), ( 0, 177, 0 ) );
            var_1 _id_11DD2( "cargo_truck", ( -25758, -1248, -308 ), ( 357, 89, 3 ) );
            var_1 _id_11DD2( "atv", ( -29975, 11106, -201 ), ( 2, 19, 0 ) );
            var_1 _id_11DD2( "atv", ( -30146, 4487, -302 ), ( 359, 343, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -28971, -3004, -320 ), ( 0, 355, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -32163, 4001, -308 ), ( 359, 355, 0 ) );
            var_1 _id_11DD2( "jeep", ( -31980, 2627, -301 ), ( 356, 327, 0 ) );
            var_1 _id_11DD2( "atv", ( -20062, 5474, -328 ), ( 359, 187, 0 ) );
            var_1 _id_11DD2( "atv", ( -22532, 11324, -323 ), ( 359, 172, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -18794, 2453, -309 ), ( 0, 206, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( -19830, -2397, -324 ), ( 0, 201, 0 ) );
            var_1 _id_11DD2( "jeep", ( -18702, 3169, -317 ), ( 358, 175, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( -34458, 2906, 0 );
            level.plunder_items_picked_up.bunkervaults = ( -17365, 3017, 0 );
            break;
        case "lumber":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( 50206, 2749, 0 );
            var_1.circle_radius = 11000;
            var_1._id_1269E = 90;
            var_1._id_1269F = 270;
            var_1._id_126FE = 3500;
            var_1._id_126FF = 3500;
            var_1._id_126CD = 0.85;
            var_1._id_126CC = 0.95;
            var_1._id_1285D = ( 50206, 2749, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            level _id_11DBC( ( 48212, -3941, 253 ), ( 0, 262, 0 ) );
            level _id_11DBC( ( 53443, -5856, -796 ), ( 0, 213, 0 ) );
            level _id_11DBC( ( 49330, 473, -100 ), ( 0, 246, 0 ) );
            level _id_11DBC( ( 53875, 8840, 30 ), ( 0, 80, 0 ) );
            level _id_11DBC( ( 48579, 9977, 26 ), ( 0, 65, 0 ) );
            level _id_11DBC( ( 51069, 7485, 53 ), ( 0, 112, 0 ) );
            var_1 _id_11DC1( 0, ( 42286, 1810, -581 ) );
            var_1 _id_11DC1( 0, ( 57591, 1905, 206 ) );
            var_1 _id_11DC1( 1, ( 50206, 2749, 27 ) );
            var_1 _id_11DD2( "jeep", ( 48691, 8003, 18 ), ( 2, 258, 0 ) );
            var_1 _id_11DD2( "jeep", ( 53551, 9680, 17 ), ( 359, 309, 0 ) );
            var_1 _id_11DD2( "atv", ( 52754, 9376, 19 ), ( 359, 331, 0 ) );
            var_1 _id_11DD2( "atv", ( 47682, 8554, 131 ), ( 358, 256, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 53102, 7823, 34 ), ( 0, 266, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 49371, 9437, 31 ), ( 358, 288, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 57211, 8851, 254 ), ( 356, 253, 0 ) );
            var_1 _id_11DD2( "jeep", ( 46720, -4517, 123 ), ( 2, 67, 0 ) );
            var_1 _id_11DD2( "jeep", ( 54257, -4473, -780 ), ( 360, 60, 0 ) );
            var_1 _id_11DD2( "atv", ( 47024, -3728, 85 ), ( 0, 43, 0 ) );
            var_1 _id_11DD2( "atv", ( 49209, -4557, 92 ), ( 358, 79, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 45747, -3972, 208 ), ( 5, 92, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 50494, -4719, -323 ), ( 354, 114, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 50085, -5237, -362 ), ( 355, 91, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( 50167, -6668, 0 );
            level.plunder_items_picked_up.bunkervaults = ( 50191, 12191, 0 );
            break;
        case "tower":
            var_1._id_12A60 = var_0;
            var_1.exterior_goal_func = ( 20202, -14865, 0 );
            var_1.circle_radius = 11500;
            var_1._id_1269E = 0;
            var_1._id_1269F = 180;
            var_1._id_126FE = 3500;
            var_1._id_126FF = 3500;
            var_1._id_126CD = 0.85;
            var_1._id_126CC = 0.95;
            var_1._id_1285D = ( 50206, 2749, 1505 );
            var_1._id_1285C = ( 21, 63, 0 );
            var_5 = 400;
            var_1 _id_11DC1( 0, ( 20407, -7758, -318 ), var_5 );
            var_1 _id_11DC1( 0, ( 20128, -21456, -78 ), var_5 );
            var_1 _id_11DC1( 1, ( 20187, -14864, 4498 ), var_5 );
            var_1 _id_11DD2( "tac_rover", ( 12397, -14373, -287 ), ( 359, 3, 0 ) );
            var_1 _id_11DD2( "jeep", ( 11607, -17795, -285 ), ( 359, 19, 0 ) );
            var_1 _id_11DD2( "jeep", ( 12481, -11716, -283 ), ( 357, 356, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 11569, -18566, -278 ), ( 350, 351, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 12676, -12051, -279 ), ( 356, 7, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 12121, -15045, -169 ), ( 0, 356, 0 ) );
            level _id_11DBC( ( 15511, -8340, -375 ), ( 0, 222, 0 ) );
            level _id_11DBC( ( 14966, -17841, -348 ), ( 0, 177, 0 ) );
            level _id_11DBC( ( 11358, -14192, -287 ), ( 0, 208, 0 ) );
            var_1 _id_11DD2( "tac_rover", ( 27899, -14653, -264 ), ( 0, 185, 0 ) );
            var_1 _id_11DD2( "jeep", ( 26619, -12452, -271 ), ( 359, 198, 0 ) );
            var_1 _id_11DD2( "jeep", ( 26780, -17338, -244 ), ( 359, 176, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 26387, -12817, -262 ), ( 0, 192, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 25936, -18633, -217 ), ( 356, 159, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 28120, -15204, -142 ), ( 356, 180, 0 ) );
            level _id_11DBC( ( 24819, -18932, -207 ), ( 0, 317, 0 ) );
            level _id_11DBC( ( 28214, -14251, -255 ), ( 0, 358, 0 ) );
            level _id_11DBC( ( 26043, -7814, -220 ), ( 0, 42, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 20230, -24700, -130 ), ( 359, 90, 0 ) );
            var_1 _id_11DD2( "little_bird_mg", ( 20269, -6579, -310 ), ( 359, 269, 0 ) );
            var_1 _id_11DD2( "motorcycle", ( 19913, -19566, -119 ), ( 0, 77, 0 ) );
            var_1 _id_11DD2( "jeep", ( 21167, -14838, -514 ), ( 359, 267, 0 ) );
            level _id_11DBC( ( 20203, -13984, -54 ), ( 0, 270, 0 ) );
            level.plunder_items_picked_up.burndowntime = ( 10396, -14826, 0 );
            level.plunder_items_picked_up.bunkervaults = ( 30018, -14900, 0 );
            break;
        default:
    }

    level thread race_timer_update();
    return var_1;
}

race_timer_update()
{
    level endon( "game_ended" );

    if ( level.current_puddle_count._id_11DE6.size < 1 )
        return;

    while ( !isdefined( level.br_armory_kiosk ) )
        waitframe();

    wait 1.0;
    scripts\mp\gametypes\br_armory_kiosk.gsc::_id_123D8( level.current_puddle_count._id_11DE6 );
}

_id_11DBC( var_0, var_1 )
{
    var_2 = getgroundposition( var_0, 2.5 );
    var_3 = easepower( "br_plunder_box", var_2, var_1 );
    level.current_puddle_count._id_11DE6[level.current_puddle_count._id_11DE6.size] = var_3;
}

_id_11DD2( var_0, var_1, var_2 )
{
    if ( var_0 == "little_bird_mg" && getdvarfloat( "lb_mg_spawn_percent", 100 ) < 1 )
        var_0 = "little_bird";

    if ( !scripts\mp\vehicles\vehicle_spawn_mp::vehicle_spawn_mp_canspawnvehicle( var_0 ) )
        return;

    if ( !isdefined( self._id_1322E ) )
        self._id_1322E = [];

    self._id_1322E[self._id_1322E.size] = [ var_0, var_1, var_2 ];
}

_runmovequestlocale()
{

}

_id_13285( var_0 )
{
    var_1 = spawnstruct();
    var_2 = scripts\engine\utility::getstruct( "launch_code_drop_button", "targetname" );
    var_1.origin = var_2.origin + ( 0, 0, 50000 );

    if ( isdefined( var_0 ) )
        var_2.origin = var_0;

    var_3 = scripts\mp\gametypes\br_gametype_truckwar.gsc::_id_132C9( var_1 );

    if ( isdefined( var_3 ) )
        level thread scripts\mp\gametypes\br_gametype_truckwar.gsc::_id_12EB3( var_3, var_2.origin, var_3.angles, 1 );
}

_id_1270A()
{
    level endon( "game_ended" );
    var_0 = 0;

    if ( !scripts\mp\flags::gameflag( "prematch_done" ) )
    {

    }
    else
        var_0 = 1;

    if ( !var_0 )
        return;

    scripts\mp\flags::gameflagwait( "rumble_location_selected" );

    if ( !isdefined( level.current_puddle_count._id_120C1._id_1322E ) )
        return;

    foreach ( var_4, var_2 in level.current_puddle_count._id_120C1._id_1322E )
    {
        var_3 = spawnstruct();
        var_3.ref = var_2[0];
        var_3.origin = var_2[1];
        var_3.angles = var_2[2];
        var_3._id_12B5A = var_4;
        level thread _id_13289( var_3 );
    }
}

_id_11DD5( var_0 )
{
    level.current_puddle_count.spawned_vehicles[var_0._id_126C9._id_12B5A] = var_0;
}

handlemeleekillrewardbullets( var_0 )
{
    level.current_puddle_count.spawned_vehicles[var_0._id_126C9._id_12B5A] = undefined;
}

_id_13289( var_0 )
{
    var_1 = scripts\cp_mp\vehicles\vehicle_spawn::vehicle_spawn_spawnvehicle( var_0.ref, var_0 );
    var_1._id_126C9 = var_0;
    _id_11DD5( var_1 );
    var_1 thread vehicle_death_watcher();
    var_1 thread _id_13234();
}

_id_1327A( var_0 )
{
    level endon( "game_ended" );
    wait 45.0;
    _id_13289( var_0 );
}

_id_13234()
{
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "vehicle_pending_respawn" );
    var_0 = self.origin;
    var_1 = 1500.0;
    var_2 = 60;
    self.track_is_operational = undefined;
    self.track_last_good_position = 0;
    self._id_1298F = undefined;
    self.intel_pieces = undefined;

    for (;;)
    {
        self.his_removequestinstance = distance2d( var_0, self.origin );
        self._id_13269 = isdefined( self getvehicleowner() );

        if ( !self.track_last_good_position && self.his_removequestinstance > var_1 && !self._id_13269 )
        {
            self._id_1298F = gettime();
            self.intel_pieces = gettime() + var_2 * 1000;
            self.track_last_good_position = 1;
        }
        else if ( self.track_last_good_position && self._id_13269 )
        {
            self.track_last_good_position = 0;
            self._id_1298F = undefined;
            self.intel_pieces = undefined;
            self.track_is_operational = undefined;
        }

        if ( isdefined( self._id_1298F ) && isdefined( self.intel_pieces ) )
        {
            var_3 = gettime();
            self.track_is_operational = ( self.intel_pieces - var_3 ) / 1000;
            var_4 = 0;

            if ( var_3 >= self.intel_pieces )
            {
                foreach ( var_6 in level.players )
                {
                    if ( distance( var_6.origin, self.origin ) < var_1 )
                    {
                        self.intel_pieces = var_3 + var_2 / 2 * 1000;
                        var_4 = 1;
                        break;
                    }
                }

                if ( !var_4 )
                {
                    var_8 = self.health * 0.95;
                    self dodamage( var_8, self.origin );
                    break;
                }
            }
        }

        wait 1.0;
    }
}

vehicle_death_watcher()
{
    level endon( "game_ended" );
    var_0 = self._id_126C9;
    self waittill( "death" );
    self notify( "vehicle_pending_respawn" );
    handlemeleekillrewardbullets( self );

    if ( scripts\mp\gametypes\br_circle.gsc::ispointincurrentsafecircle( var_0.origin ) )
        _id_1327A( var_0 );
}

_ontabletgiven()
{

}

_id_12C6E()
{
    level endon( "game_ended" );
    var_0 = 0;
    var_1 = 0;
    var_2 = 0;
    var_3 = 0;
    var_4 = 0;
    var_5 = 0;
    var_6 = 0;
    var_7 = scripts\engine\utility::ter_op( scripts\mp\utility\game::isanymlgmatch(), 5, 2 );
    scripts\mp\flags::gameflagwait( "infil_complete" );

    while ( game["state"] == "playing" )
    {
        if ( !level.timerstopped && scripts\mp\utility\game::gettimelimit() )
        {
            var_8 = scripts\mp\gamelogic::gettimeremaining() / 1000;
            var_9 = int( var_8 + 0.5 );
            var_10 = 0;

            if ( var_7 == 2 && var_9 % 2 == 1 )
                var_10 = 1;

            if ( !var_0 && ( var_10 == 1 && var_9 == 681 || var_10 == 0 && var_9 == 680 ) )
            {
                level thread vehicle_occupancy_setfriendlystatusdirty( 0 );
                var_0 = 1;
            }
            else if ( !var_3 && ( var_10 == 1 && var_9 == level.current_puddle_count.tabletreplacetime + 1 || var_10 == 0 && var_9 == level.current_puddle_count.tabletreplacetime ) )
            {
                level notify( "quest_tablets_refill" );
                var_3 = 1;
            }
            else if ( !var_1 && ( var_10 == 1 && var_9 == 441 || var_10 == 0 && var_9 == 440 ) )
            {
                level thread vehicle_occupancy_setfriendlystatusdirty( 1 );
                var_1 = 1;
            }
            else if ( !var_2 && ( var_10 == 1 && var_9 == 201 || var_10 == 0 && var_9 == 200 ) )
            {
                level.current_puddle_count.seq3_spawners_intro vehicle_preventplayercollisiondamagefortimeafterexitinternal();
                var_2 = 1;
            }
            else if ( !var_4 && ( var_10 == 1 && var_9 == 61 || var_10 == 0 && var_9 == 60 ) )
            {
                level scripts\mp\music_and_dialog::matchendingsoonleaderdialog( "timesup_sixty" );
                level notify( "match_ending_soon", "time" );
                var_4 = 1;
            }
            else if ( !var_5 && ( var_10 == 1 && var_9 == 31 || var_10 == 0 && var_9 == 30 ) )
            {
                level scripts\mp\music_and_dialog::matchendingsoonleaderdialog( "timesup_thirty" );
                level notify( "match_ending_soon", "time" );
                var_5 = 1;
            }
            else if ( !var_4 && !var_5 && !var_6 && ( var_9 >= 30 && var_9 <= 45 ) )
            {
                var_6 = level scripts\mp\music_and_dialog::matchendingsoonleaderdialog( "timesup" );
                level notify( "match_ending_soon", "time" );
            }

            if ( var_9 <= 10 || var_9 <= 30 && var_9 % var_7 == var_10 )
            {
                if ( !var_6 && var_9 <= 10 )
                    var_6 = level scripts\mp\music_and_dialog::matchendingsoonleaderdialog( "timesup", var_9 );

                level notify( "match_ending_very_soon" );
                var_11 = 1;

                if ( var_9 == 0 )
                    break;

                if ( isdefined( level.overridetimelimitclock ) && level.overridetimelimitclock < var_9 )
                    var_11 = 0;

                if ( var_11 )
                {
                    var_12 = scripts\mp\gamelogic::mp_oilrig_patches( var_8 );
                    playsoundatpos( ( 0, 0, 0 ), var_12 );
                }
            }

            if ( var_8 - floor( var_8 ) >= 0.05 )
            {
                wait( var_8 - floor( var_8 ) );
                continue;
            }
        }

        wait 1.0;
    }
}

_phonemorsesinglescriptableused()
{

}

_id_11DC1( var_0, var_1, var_2 )
{
    if ( !isdefined( var_2 ) )
        var_2 = level.current_puddle_count.idflags_penetration_player_only;

    if ( !isdefined( self.icontrigger ) )
        self.icontrigger = [];

    if ( !isdefined( self.icontrigger[var_0] ) )
        self.icontrigger[var_0] = [];

    var_3 = spawnstruct();
    var_3._id_12762 = var_0;
    var_3.location = getgroundposition( var_1, 5 );
    var_3.doarmsracelocationnags = var_2;
    self.icontrigger[var_0] = scripts\engine\utility::array_add( self.icontrigger[var_0], var_3 );
}

vehicle_occupancy_setfriendlystatusdirty( var_0 )
{
    level endon( "game_ended" );

    if ( !isdefined( level.current_puddle_count._id_120C1.icontrigger ) )
        level.current_puddle_count._id_120C1 _id_11DC1( var_0, level.current_puddle_count._id_120C1.exterior_goal_func );

    var_1 = level.current_puddle_count._id_120C1.icontrigger[var_0];
    level.current_puddle_count._id_120C1.vehicle_occupancy_monitorcontrols = var_0;

    if ( !isdefined( var_1 ) || var_1.size <= 0 )
        return;

    vehicle_occupancy_mp_updateriotshield();
    level.objectivescaler = 1;

    if ( getdvarint( "scr_rumble_skip_event_wait_times", 0 ) == 0 )
    {
        level thread scripts\mp\gametypes\br_public.gsc::brleaderdialog( "dom_point_incoming", 0 );
        waittill_player_dwells_or_wave_min_count( "br_rumble_pe_dom_flags_incoming" );
        wait 20;
    }

    level thread scripts\mp\gametypes\br_public.gsc::brleaderdialog( "dom_point_started", 0 );
    waittill_player_dwells_or_wave_min_count( "br_rumble_pe_dom_flags_online" );
    wait 3.0;
    level thread vehicle_occupancy_mp_takeriotshield();
}

vehicle_occupancy_mp_updateriotshield()
{
    var_0 = level.current_puddle_count._id_120C1.vehicle_occupancy_monitorcontrols;
    var_1 = level.current_puddle_count._id_120C1.icontrigger[var_0];

    foreach ( var_4, var_3 in var_1 )
        var_3 thread vehicle_occupancy_monitormovementcontrols();
}

vehicle_occupancy_mp_takeriotshield()
{
    var_0 = [ "_a", "_b", "_c", "_d", "_e" ];

    if ( !isdefined( level.current_puddle_count.ai_push_forward_watcher ) )
    {
        level.current_puddle_count.ai_push_forward_watcher = [];
        level.current_puddle_count.ai_push_forward_watcher["allies"] = 0;
        level.current_puddle_count.ai_push_forward_watcher["axis"] = 0;
    }

    if ( !isdefined( level.current_puddle_count.postspawn_rpg ) )
        level.current_puddle_count.postspawn_rpg = 0;

    var_1 = level.current_puddle_count._id_120C1.vehicle_occupancy_monitorcontrols;
    var_2 = level.current_puddle_count._id_120C1.icontrigger[var_1];

    foreach ( var_8, var_4 in var_2 )
    {
        var_5 = scripts\engine\utility::ter_op( isdefined( var_4.doarmsracelocationnags ), var_4.doarmsracelocationnags, level.current_puddle_count.idflags_penetration_player_only );
        var_6 = spawn( "trigger_radius", var_4.location, 0, int( var_5 ), int( level.classify_players_based_on_laststand ) );
        var_6.script_label = var_0[level.current_puddle_count.postspawn_rpg];
        var_6.iconname = var_0[level.current_puddle_count.postspawn_rpg];
        level.current_puddle_count.postspawn_rpg++;
        var_2[var_8].trigger = var_6;
        var_7 = scripts\mp\gametypes\obj_dom.gsc::setupobjective( var_2[var_8].trigger, "neutral" );
        var_7.onuse = ::vehicle_occupancy_isneutraltoplayer;
        var_7.onbeginuse = ::vehicle_occupancy_getteamfriendlyto;
        var_7.onuseupdate = ::vehicle_occupancy_isneutraltoteam;
        var_7.onenduse = ::vehicle_occupancy_handleplayerbc;
        var_7.oncontested = ::vehicle_occupancy_giveriotshield;
        var_7.onuncontested = ::vehicle_occupancy_isenemytoteam;
        var_7.onunoccupied = ::vehicle_occupancy_isfriendlytoplayer;
        var_7.onpinnedstate = ::vehicle_occupancy_isdriverseat;
        var_7.onunpinnedstate = ::vehicle_occupancy_isfriendlytoteam;
        var_7._id_12A14 = ::vehicle_occupancy_isenemytoplayer;
        var_7.stompprogressreward = ::vehicle_occupancy_monitorturretcontrols;
        var_7.id = "domFlag";
        var_7.pinobj = 1;
        var_7.lockupdatingicons = 1;
        var_7.trigger = var_6;
        var_7.doarmsraceopencachenags = 0;
        var_7.doarmsracelocationnags = var_5;
        var_7.pos = var_4.location;
        var_7.vfxent = var_4.vfxent;
        var_7 scripts\mp\gameobjects::setcapturebehavior( "persistent" );
        var_7 scripts\mp\gameobjects::setusetime( level.current_puddle_count.vehicle_occupancy_cp_updateriotshield );
        playencryptedcinematicforall( var_7.objidnum, 1 );
        var_7.spectatetestonprematchfadedone = [];
        var_7.spectatetestonprematchfadedone["ally"] = spawnstruct();
        var_7.spectatetestonprematchfadedone["enemy"] = spawnstruct();
        var_7.spectatetestonprematchfadedone["neutral"] = spawnstruct();
        var_7.setcachedclientomnvar = "undefined";
        var_7.spectatetestonprematchfadedone["neutral"] vehicle_occupancy_forceweaponswitchallowed( 9, var_7.curorigin, var_5 );
        var_7.spectatetestonprematchfadedone["ally"] vehicle_occupancy_forceweaponswitchallowed( 8, var_7.curorigin, var_5 );
        var_7.spectatetestonprematchfadedone["enemy"] vehicle_occupancy_forceweaponswitchallowed( 0, var_7.curorigin, var_5 );
        var_7 vehicle_occupancy_mp_hidecashbag( "neutral" );
        var_7 thread vehicle_occupancy_mp_changedseats();
        var_7 thread vehicle_occupancy_mp_giveriotshield();
        var_2[var_8].iconovertime = var_7;
        wait 0.5;
    }
}

vehicle_occupancy_hidecashbag( var_0 )
{
    self._id_1198E = scripts\engine\utility::array_add( self._id_1198E, var_0 );
    var_0.reset_doors = 1;
}

vehicle_occupancy_instanceisregistered( var_0 )
{
    self._id_1198E = scripts\engine\utility::array_remove( self._id_1198E, var_0 );
    var_0.reset_doors = 0;
}

vehicle_occupancy_mp_changedseats()
{
    self endon( "game_ended" );
    self._id_1198E = [];

    while ( !self.doarmsraceopencachenags )
    {
        self.trigger waittill( "trigger", var_0 );

        if ( ( isplayer( var_0 ) || isbot( var_0 ) ) && !scripts\engine\utility::array_contains( self._id_1198E, var_0 ) )
            vehicle_occupancy_hidecashbag( var_0 );

        waitframe();
    }
}

vehicle_occupancy_mp_giveriotshield()
{
    self endon( "game_ended" );

    while ( !self.doarmsraceopencachenags )
    {
        foreach ( var_1 in self._id_1198E )
        {
            if ( !var_1 istouching( self.trigger ) || !isalive( var_1 ) )
                vehicle_occupancy_instanceisregistered( var_1 );
        }

        wait 0.1;
    }

    foreach ( var_1 in self._id_1198E )
        vehicle_occupancy_instanceisregistered( var_1 );
}

vehicle_occupancy_getreserving( var_0, var_1 )
{
    if ( istrue( var_1.reset_doors ) )
    {
        var_0 thread scripts\mp\rank::giverankxp( "rumble_dom_flag_enemy_kill", 20, var_0.weapon, 0, 1 );
        var_0 thread scripts\mp\rank::scoreeventpopup( "rumble_dom_flag_enemy_kill" );
    }

    if ( istrue( var_0.reset_doors ) )
    {
        var_0 thread scripts\mp\rank::giverankxp( "rumble_dom_flag_defend_kill", 20, var_0.weapon, 0, 1 );
        var_0 thread scripts\mp\rank::scoreeventpopup( "rumble_dom_flag_defend_kill" );
    }
}

vehicle_occupancy_forceweaponswitchallowed( var_0, var_1, var_2 )
{
    scripts\mp\gametypes\br_quest_util.gsc::get_minigun_path( var_0, 0, 0, var_1 );
    scripts\mp\gametypes\br_quest_util.gsc::_id_12395( int( var_2 ) );
}

vehicle_occupancy_mp_hidecashbag( var_0 )
{
    if ( var_0 != self.setcachedclientomnvar )
    {
        self.setcachedclientomnvar = var_0;

        foreach ( var_2 in self.spectatetestonprematchfadedone )
            var_2 scripts\mp\gametypes\br_quest_util.gsc::playertospectate();

        var_4 = self.setcachedclientomnvar != "axis" && self.setcachedclientomnvar != "allies";
        var_5 = undefined;

        foreach ( var_7 in level.players )
        {
            var_8 = var_7.team == self.setcachedclientomnvar;

            if ( var_4 )
                var_5 = self.spectatetestonprematchfadedone["neutral"];
            else
                var_5 = scripts\engine\utility::ter_op( var_8, self.spectatetestonprematchfadedone["ally"], self.spectatetestonprematchfadedone["enemy"] );

            if ( isdefined( var_5 ) )
                var_5 scripts\mp\gametypes\br_quest_util.gsc::_id_12550( var_7 );
        }

        if ( isdefined( var_5 ) )
            scripts\mp\objidpoolmanager::objective_teammask_addtomask( self.objidnum, var_0 );
    }
}

vehicle_occupancy_friendlystatuschangedcallback()
{
    foreach ( var_1 in self.spectatetestonprematchfadedone )
        var_1 scripts\mp\gametypes\br_quest_util.gsc::hacks_needed();
}

vehicle_occupancy_isneutraltoplayer( var_0 )
{
    var_1 = var_0.team;
    self.dobreakeractivation = var_1;
    self.capturetime = gettime();
    self.doarmsraceopencachenags = 1;

    if ( self.touchlist[var_1].size == 0 && isdefined( self.oldtouchlist ) )
        self.touchlist = self.oldtouchlist;

    self notify( "pe_dom_flag_end" );
    thread vehicle_occupancy_errormessage( var_1 );
}

vehicle_occupancy_getteamfriendlyto( var_0 )
{
    self.userate = 1.0;

    if ( !isdefined( self.tripledefenderkill ) || !self.tripledefenderkill )
    {
        self.tripledefenderkill = 1;
        scripts\mp\gametypes\br_quest_util.gsc::_id_1313A( self.curorigin, "dom" );
        var_1 = scripts\mp\utility\teams::getfriendlyplayers( var_0.team, 0 );

        foreach ( var_3 in var_1 )
            var_3 notify( "calloutmarkerping_warzoneKillQuestIcon" );
    }
}

vehicle_occupancy_isneutraltoteam( var_0, var_1, var_2, var_3 )
{
    self.userate = 1.0;

    if ( var_1 < 1.0 && !level.gameended && !istrue( self.doarmsraceopencachenags ) )
        waittill_player_moves( var_1, var_0 );

    if ( var_1 > 0.05 && var_2 && !istrue( self.didstatusnotify ) )
        self.didstatusnotify = 1;

    vehicle_occupancy_mp_hidecashbag( var_0 );
}

vehicle_occupancy_handleplayerbc( var_0, var_1, var_2 )
{
    scripts\mp\gametypes\obj_dom.gsc::dompoint_onuseend( var_0, var_1, var_2 );
}

vehicle_occupancy_giveriotshield()
{
    scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_contested" );
    scripts\mp\objidpoolmanager::objective_set_progress_team( self.objidnum, undefined );
    level thread scripts\mp\gametypes\br_public.gsc::brleaderdialog( "exfil_contested" );
    var_0 = scripts\mp\gameobjects::getownerteam();
}

vehicle_occupancy_isenemytoteam( var_0 )
{
    var_1 = scripts\mp\gameobjects::getownerteam();
    var_2 = undefined;
    var_3 = vehicle_occupancy_getplayerfriendlyto();

    if ( var_3 <= 1 )
    {
        foreach ( var_5 in level.teamnamelist )
        {
            var_6 = self.teamprogress[var_5];

            if ( var_6 > 0 )
            {
                var_2 = var_5;
                break;
            }
        }

        if ( isdefined( var_2 ) )
            scripts\mp\objidpoolmanager::objective_set_progress_team( self.objidnum, var_2 );
        else if ( var_1 != "neutral" )
            scripts\mp\objidpoolmanager::objective_set_progress_team( self.objidnum, var_1 );
        else if ( var_0 != "none" )
            scripts\mp\objidpoolmanager::objective_set_progress_team( self.objidnum, var_0 );

        scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_defend", "waypoint_capture" );

        if ( var_0 == "none" || var_1 == "neutral" )
            self.didstatusnotify = 0;
    }
}

vehicle_occupancy_isfriendlytoplayer()
{
    var_0 = scripts\mp\gameobjects::getownerteam();

    if ( var_0 == "neutral" )
        scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_captureneutral" );
    else
        scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_defend", "waypoint_capture" );

    self.didstatusnotify = 0;
}

vehicle_occupancy_isdriverseat( var_0 )
{
    if ( self.ownerteam != "neutral" && self.numtouching[self.ownerteam] && !self.stalemate )
        scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_defending", "waypoint_capture" );
}

vehicle_occupancy_isfriendlytoteam( var_0 )
{
    if ( self.ownerteam != "neutral" && !self.numtouching[self.ownerteam] && !self.stalemate )
        scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_defend", "waypoint_capture" );
}

vehicle_occupancy_isenemytoplayer( var_0 )
{
    self.userate = level.current_puddle_count.idflags_br_armor_break;
    var_1 = scripts\mp\utility\teams::getenemyteams( var_0 );
    var_2 = undefined;

    foreach ( var_4 in var_1 )
    {
        var_5 = self.teamprogress[var_4];

        if ( var_5 > 0 )
            var_2 = var_5 / self.usetime;
    }
}

vehicle_occupancy_monitorturretcontrols( var_0 )
{
    var_0 thread scripts\mp\utility\points::giveunifiedpoints( "obj_prog_defend" );
    scripts\mp\gameobjects::setobjectivestatusicons( "waypoint_defending", "waypoint_capture" );

    if ( isdefined( self.lastprogressteam ) )
        self.lastprogressteam = undefined;
}

waittill_player_moves( var_0, var_1 )
{
    if ( !isdefined( self.lastsfxplayedtime ) )
        self.lastsfxplayedtime = gettime();

    if ( self.lastsfxplayedtime + 995 < gettime() )
    {
        self.lastsfxplayedtime = gettime();
        var_2 = "";
        var_0 = int( floor( var_0 * 10 ) );
        var_2 = "mp_dom_capturing_tick_0" + var_0;
        self.visuals[0] playsoundtoteam( var_2, var_1 );
    }
}

vehicle_occupancy_errormessage( var_0 )
{
    if ( isdefined( var_0 ) && var_0 != "tie" )
    {
        level.current_puddle_count.ai_push_forward_watcher[var_0] = level.current_puddle_count.ai_push_forward_watcher[var_0] + 1;
        level scripts\mp\gamescore::giveteamscoreforobjective( var_0, 15, 0 );

        foreach ( var_2 in level.players )
        {
            if ( isdefined( var_2 ) && isdefined( var_2.team ) && var_2.team == var_0 )
            {
                var_2 thread vehicle_occupancy_linktooriginandangles( 1, var_0 );
                var_2 thread scripts\mp\hud_message::showsplash( "br_rumble_pe_dom_flag_captured_ally" );
                continue;
            }

            if ( isdefined( var_2 ) && isdefined( var_2.team ) && var_2.team != var_0 )
            {
                var_2 thread vehicle_occupancy_linktooriginandangles( 0, var_0 );
                var_2 thread scripts\mp\hud_message::showsplash( "br_rumble_pe_dom_flag_captured_enemy" );
            }
        }

        foreach ( var_5 in self.touchlist[var_0] )
        {
            var_2 = var_5.player;
            var_2 thread scripts\mp\rank::giverankxp( "rumble_dom_flag_capture", 250, var_2 getcurrentprimaryweapon() );
            var_2 thread scripts\mp\rank::scoreeventpopup( "rumble_dom_flag_capture" );
        }

        thread vehicle_occupancy_monitorgameended();
        thread vehicle_occupancy_fadeoutcontrols( self );
    }
}

vehicle_occupancy_linktooriginandangles( var_0, var_1 )
{
    var_2 = level.current_puddle_count.ai_push_forward_watcher[var_1];

    switch ( var_2 )
    {
        case 1:
            if ( var_0 )
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_friendly_capture_1", self );
            else
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_enemy_capture_1", self );

            break;
        case 2:
            if ( var_0 )
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_friendly_capture_2", self );
            else
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_enemy_capture_2", self );

            break;
        case 3:
            if ( var_0 )
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_friendly_capture_all", self );
            else
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "dom_point_enemy_capture_all", self );

            break;
    }
}

vehicle_occupancy_fadeoutcontrols( var_0 )
{
    stopfxontag( scripts\engine\utility::getfx( "vfx_smk_signal_green" ), var_0.vfxent, "tag_origin" );
    var_0 vehicle_occupancy_friendlystatuschangedcallback();
    scripts\mp\gametypes\obj_dom.gsc::removeobjective( var_0 );
}

vehicle_occupancy_monitormovementcontrols()
{
    var_0 = spawn( "script_model", self.location - ( 0, 0, 3 ) );
    var_0 setmodel( "tag_origin" );
    self.vfxent = var_0;
    wait 1.0;
    playfxontag( scripts\engine\utility::getfx( "vfx_smk_signal_green" ), var_0, "tag_origin" );
}

vehicle_occupancy_monitorgameended()
{
    level thread spawn_loot_pickups( self.pos, "loot_table_dom_flag_capture_cash", 25 );
    level thread spawn_loot_pickups( self.pos, "loot_table_dom_flag_capture_weapons", 5 );
}

vehicle_occupancy_getplayerfriendlyto()
{
    var_0 = 0;

    foreach ( var_3, var_2 in self.numtouching )
    {
        if ( var_2 > 0 && ( !isstring( var_3 ) || var_3 != "none" ) )
            var_0++;
    }

    return var_0;
}

_onmatchstartbr()
{

}

vehicle_preventplayercollisiondamagefortimeafterexit()
{
    level.current_puddle_count.seq3_spawners_intro = spawnstruct();
    level.current_puddle_count.seq3_spawners_intro.active = 0;
    level.current_puddle_count.seq3_spawners_intro vehicle_showteamtanks();
    level.current_puddle_count.seq3_spawners_intro.inited = 1;
}

vehicle_preventplayercollisiondamagefortimeafterexitinternal()
{
    if ( getdvarint( "scr_rumble_skip_event_wait_times", 0 ) == 0 )
    {
        level thread scripts\mp\gametypes\br_public.gsc::brleaderdialog( "hvt_incoming", 0 );
        scripts\mp\gametypes\br_publicevents.gsc::_id_12557( "br_rumble_pe_kill_leader_event_incoming" );
        wait 20;
    }

    level.current_puddle_count.seq3_spawners_intro.active = 1;
    level.current_puddle_count.seq3_spawners_intro._id_12246 = [];
    level.current_puddle_count.seq3_spawners_intro vehicle_rider_think();
    wait 3.0;
    level.current_puddle_count.seq3_spawners_intro thread vehicle_spawn_initdev();
    level.current_puddle_count.seq3_spawners_intro thread vehicle_register_on_level();
}

vehicle_registerturret( var_0, var_1 )
{
    if ( !isdefined( level.current_puddle_count.seq3_spawners_intro._id_12246 ) )
        return;

    var_2 = 500;
    var_3 = undefined;

    foreach ( var_5 in level.current_puddle_count.seq3_spawners_intro._id_12246 )
    {
        if ( var_5.team == var_0.team && var_5 != var_0 )
        {
            var_6 = distance2d( var_5.origin, var_1.origin ) < var_2;
            var_7 = abs( var_5.origin[2] - var_1.origin[2] ) < 500;
            var_8 = var_6 && var_7;
            var_9 = distance2d( var_5.origin, var_1.origin ) < var_2;
            var_10 = abs( var_5.origin[2] - var_1.origin[2] ) < 500;
            var_11 = var_9 && var_10;

            if ( var_8 || var_11 )
            {
                var_0 thread scripts\mp\rank::giverankxp( "rumble_hvt_defend_kill", int( 50 ), var_0 getcurrentprimaryweapon() );
                var_0 thread scripts\mp\rank::scoreeventpopup( "rumble_hvt_defend_kill" );
                break;
            }
        }
    }
}

vehicle_register_on_level()
{
    level endon( "game_ended" );
    self endon( "pe_kill_leader_event_end" );
    var_0 = gettime() + ( level.current_puddle_count.vehicle_occupancy_updateriotshield - 3.0 ) * 1000;
    var_1 = spawn( "script_origin", ( 0, 0, 0 ) );
    var_1 hide();
    level.current_puddle_count.seq3_spawners_intro.first_bleedout = var_1;
    setomnvar( "ui_publicevent_timer_type", 3 );
    setomnvar( "ui_publicevent_timer", var_0 );
    wait( level.current_puddle_count.vehicle_occupancy_updateriotshield - 5 - 3.0 );

    for ( var_2 = 0; var_2 < 5; var_2++ )
    {
        var_1 playsound( "ui_mp_fire_sale_timer" );
        wait 1.0;
    }

    level.current_puddle_count.seq3_spawners_intro thread vehicle_outline_watcher();
}

vehicle_outline_watcher( var_0, var_1 )
{
    level endon( "game_ended" );
    level.current_puddle_count.seq3_spawners_intro.active = 0;

    if ( isdefined( var_1 ) && var_1 > 0 )
        wait( var_1 );

    if ( !isdefined( var_0 ) )
        var_0 = "default";

    if ( isdefined( level.current_puddle_count.seq3_spawners_intro.first_bleedout ) )
        level.current_puddle_count.seq3_spawners_intro.first_bleedout delete();

    setomnvar( "ui_publicevent_timer_type", 0 );
    var_2 = vehicle_playerkilledfx();
    var_3 = "br_rumble_pe_kill_leader_event_end_early_contested";
    var_4 = var_0 == "hvt_team_wiped" && var_2 != "contested";

    foreach ( var_6 in level.players )
    {
        if ( var_4 )
        {
            if ( var_6.team == var_2 )
            {
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "hvt_all_enemies_down", var_6, 0 );
                var_3 = "br_rumble_pe_kill_leader_event_end_early_eliminated_enemy";
            }
            else
            {
                level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "hvt_all_friendlies_down", var_6, 0 );
                var_3 = "br_rumble_pe_kill_leader_event_end_early_eliminated_ally";
            }
        }

        waittill_player_has_dropkit_marker( var_6, var_3 );
    }

    level.current_puddle_count vehicle_playershouldignorecollisiondamage();
    vehicle_spawn_gamemodesupportsabandonedtimeout();
    level.current_puddle_count.seq3_spawners_intro._id_12246 = [];
    self notify( "pe_kill_leader_event_end" );
}

vehicle_on_last_pathing_array()
{
    var_0 = vehicle_playerenteredtrackedlittlebird();
    var_1 = var_0["axis"];
    var_2 = var_0["allies"];

    if ( var_1 == 0 || var_2 == 0 || level.current_puddle_count.seq3_spawners_intro._id_12246.size == 0 )
    {
        var_3 = 0;
        var_4 = undefined;
        level.current_puddle_count.seq3_spawners_intro thread vehicle_outline_watcher( "hvt_team_wiped", 2.0 );
    }
}

vehicle_playerenteredtrackedlittlebird()
{
    var_0 = 0;
    var_1 = 0;
    var_2 = [];
    var_2["axis"] = 0;
    var_2["allies"] = 0;

    foreach ( var_4 in level.current_puddle_count.seq3_spawners_intro._id_12246 )
    {
        switch ( var_4.team )
        {
            case "axis":
                var_2["axis"]++;
                break;
            case "allies":
                var_2["allies"]++;
                break;
        }
    }

    return var_2;
}

vehicle_playerkilledfx()
{
    var_0 = vehicle_playerenteredtrackedlittlebird();
    var_1 = var_0["axis"];
    var_2 = var_0["allies"];

    if ( var_1 == var_2 )
        return "contested";

    return scripts\engine\utility::ter_op( var_1 > var_2, "axis", "allies" );
}

vehicle_playershouldignorecollisiondamage()
{
    foreach ( var_1 in level.current_puddle_count.seq3_spawners_intro._id_12246 )
    {
        var_1 vehicle_spawn_abandonedtimeout();
        var_1 vehicle_showvalidlittlebirds();
        var_1.seq3_tanksettings.remove_spawn_disable_struct = 0;
        level scripts\mp\gamescore::giveteamscoreforobjective( var_1.team, 5, 0 );
        var_1 thread scripts\mp\gametypes\br_plunder.gsc::_id_11960( 50 );
        var_1 thread vehicle_process_node_when_at_goal();
    }
}

vehicle_process_node_when_at_goal()
{
    self endon( "death_or_disconnect" );
    wait 4;
    level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "hvt_survived", self, 0 );
    waittill_player_has_dropkit_marker( self, "br_rumble_pe_kill_leader_event_survived_player", 5 );
    thread scripts\mp\rank::giverankxp( "rumble_hvt_survivor", 250, self getcurrentprimaryweapon() );
    thread scripts\mp\rank::scoreeventpopup( "rumble_hvt_survivor" );
}

vehicle_spawn_initdev()
{
    var_0 = vehicle_playerenteredtrackedlittlebird();
    var_1 = var_0["axis"];
    var_2 = var_0["allies"];

    foreach ( var_4 in level.players )
    {
        if ( isdefined( var_4 ) )
        {
            switch ( var_4.team )
            {
                case "axis":
                    var_5 = scripts\engine\utility::string( var_1 ) + scripts\engine\utility::string( var_2 ) + scripts\engine\utility::string( 1 );
                    var_4 setclientomnvar( "rebirth_tracked_teams", int( var_5 ) );
                    break;
                case "allies":
                    var_5 = scripts\engine\utility::string( var_2 ) + scripts\engine\utility::string( var_1 ) + scripts\engine\utility::string( 1 );
                    var_4 setclientomnvar( "rebirth_tracked_teams", int( var_5 ) );
                    break;
            }
        }
    }
}

vehicle_spawn_gamemodesupportsabandonedtimeout()
{
    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1 ) )
            var_1 setclientomnvar( "rebirth_tracked_teams", 0 );
    }
}

vehicle_spawn_watchabandoned( var_0 )
{
    var_1 = 0;
    var_2 = 0;

    foreach ( var_4 in level.current_puddle_count.seq3_spawners_intro._id_12246 )
    {
        switch ( var_4.team )
        {
            case "axis":
                var_1++;
                break;
            case "allies":
                var_2++;
                break;
        }
    }

    var_6 = [];
    var_6["axis"] = var_1;
    var_6["allies"] = var_2;
    var_7 = var_6[self.team];
    var_8 = var_6[scripts\engine\utility::get_enemy_team( self.team )];
    var_9 = scripts\engine\utility::string( var_7 ) + scripts\engine\utility::string( var_8 ) + scripts\engine\utility::string( 1 );
    self setclientomnvar( "rebirth_tracked_teams", int( var_9 ) );
}

vehicle_shoulddocollisiondamagetoplayer( var_0 )
{
    if ( !isdefined( var_0.seq3_tanksettings ) )
    {
        var_1 = spawnstruct();
        var_1.remove_spawn_disable_struct = 0;
        var_1.tripwire_trackachievementboom = undefined;
        var_0.seq3_tanksettings = var_1;
    }
}

vehicle_showteamtanks()
{
    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1 ) )
            vehicle_shoulddocollisiondamagetoplayer( var_1 );
    }
}

vehicle_remove_invulnerability_onenter( var_0, var_1, var_2 )
{
    if ( !isdefined( var_1 ) || !isdefined( level.current_puddle_count.seq3_spawners_intro ) || !isdefined( level.current_puddle_count.seq3_spawners_intro.inited ) || !level.current_puddle_count.seq3_spawners_intro.active )
        return;

    if ( scripts\engine\utility::array_contains( level.current_puddle_count.seq3_spawners_intro._id_12246, var_1 ) )
    {
        var_3 = isdefined( var_2 ) && ( var_2 == "MOD_SUICIDE" || var_2 == "MOD_FALLING" );
        var_1 vehicle_occupancy_showcashbag( var_0, var_3 );
        var_1 vehicle_showvalidlittlebirds();
        var_1 vehicle_spawn_abandonedtimeout();
        playfx( scripts\engine\utility::getfx( "vfx_golden_loot_explosion_flare" ), var_1.origin );
        playsoundatpos( var_1.origin, "br_splash_vip_eliminated" );

        if ( level.current_puddle_count.seq3_spawners_intro._id_12246.size > 1 )
            level.current_puddle_count.seq3_spawners_intro thread vehicle_spawn_abandonedtimeoutcallback( var_1 );

        var_1.seq3_tanksettings.remove_spawn_disable_struct = 0;
        level.current_puddle_count.seq3_spawners_intro._id_12246 = scripts\engine\utility::array_remove( level.current_puddle_count.seq3_spawners_intro._id_12246, var_1 );

        foreach ( var_5 in level.players )
            var_5 vehicle_spawn_watchabandoned( var_1 );
    }

    vehicle_on_last_pathing_array();
}

vehicle_spawn_abandonedtimeoutcallback( var_0 )
{
    level endon( "game_ended" );

    if ( !isdefined( level.current_puddle_count.seq3_spawners_intro.sequence_progression ) )
        level.current_puddle_count.seq3_spawners_intro.sequence_progression = 0;

    if ( !level.current_puddle_count.seq3_spawners_intro.sequence_progression )
    {
        level.current_puddle_count.seq3_spawners_intro.sequence_progression = 1;
        level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( "hvt_friendly_down", var_0.team );
        level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( "hvt_enemy_down", scripts\engine\utility::get_enemy_team( var_0.team ) );
        wait 8.0;
        level.current_puddle_count.seq3_spawners_intro.sequence_progression = 0;
    }
}

vehicle_occupancy_showcashbag( var_0, var_1 )
{
    var_2 = scripts\engine\utility::get_enemy_team( self.team );
    var_3 = 4;
    var_4 = 25;

    if ( istrue( var_1 ) )
    {
        var_3 = var_3 + 1;
        level scripts\mp\gamescore::giveteamscoreforobjective( var_2, var_3, 0 );
        return;
    }

    if ( isdefined( var_0 ) && istrue( var_0._id_11B35 ) )
    {
        var_3 = var_3 * 2;
        var_4 = var_4 * 2;
    }

    level scripts\mp\gamescore::giveteamscoreforobjective( var_2, var_3, 0 );

    if ( isdefined( var_0 ) && isplayer( var_0 ) )
        var_0 thread scripts\mp\gametypes\br_plunder.gsc::_id_11960( var_4 );
}

vehicle_rider_think()
{
    var_0 = [ "axis", "allies" ];

    foreach ( var_2 in var_0 )
    {
        var_3 = scripts\mp\utility\teams::getteamdata( var_2, "players" );
        var_4 = 0;
        var_5 = [];

        for ( var_6 = 0; var_6 < 3; var_6++ )
        {
            var_7 = undefined;
            var_8 = 0;

            foreach ( var_10 in var_3 )
            {
                if ( !isdefined( var_10 ) || !scripts\mp\utility\player::isreallyalive( var_10 ) || istrue( var_10.seq3_tanksettings.remove_spawn_disable_struct ) || scripts\engine\utility::array_contains( var_5, var_10.squadindex ) )
                    continue;

                if ( var_10.pers["kills"] > var_8 )
                {
                    var_7 = var_10;
                    var_8 = var_10.pers["kills"];
                }
            }

            if ( isdefined( var_7 ) )
            {
                var_7 vehicle_registration_func();
                var_5[var_5.size] = var_7.squadindex;
                var_4++;
                continue;
            }

            break;
        }

        var_12 = 5 - var_4;

        for ( var_6 = 0; var_6 < var_12; var_6++ )
        {
            var_3 = scripts\engine\utility::array_randomize( var_3 );
            var_7 = undefined;

            foreach ( var_14 in var_3 )
            {
                if ( istrue( var_14.seq3_tanksettings.remove_spawn_disable_struct ) || scripts\engine\utility::array_contains( var_5, var_14.squadindex ) || !scripts\mp\utility\player::isreallyalive( var_14 ) )
                    continue;

                var_7 = var_14;
            }

            if ( isdefined( var_7 ) )
            {
                var_7 vehicle_registration_func();
                var_5[var_5.size] = var_7.squadindex;
                var_4++;
                continue;
            }

            break;
        }
    }

    foreach ( var_10 in level.players )
    {
        if ( !istrue( var_10.seq3_tanksettings.remove_spawn_disable_struct ) )
        {
            level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "hvt_started", var_10, 0 );
            var_10 thread scripts\mp\hud_message::showsplash( "br_rumble_pe_kill_leader_event_start_as_hunter" );
        }
    }
}

vehicle_registration_func()
{
    self.seq3_tanksettings.remove_spawn_disable_struct = 1;
    level.current_puddle_count.seq3_spawners_intro._id_12246 = scripts\engine\utility::array_add( level.current_puddle_count.seq3_spawners_intro._id_12246, self );
    thread vehicle_spawn_cancelpendingrespawns();
    thread vehicle_tracker();
    thread scripts\mp\hud_message::showsplash( "br_rumble_pe_kill_leader_event_start_as_target" );
    level thread scripts\mp\gametypes\br_public.gsc::cpcpammoarmorcratecapturecallback( "hvt_hunted", self, 0, 0 );
}

vehicle_tracker()
{
    level endon( "game_ended" );
    wait 8;
    self.seq3_tanksettings.streamtimeout = [];
    self.seq3_tanksettings.streamtimeout[0] = spawnstruct();
    self.seq3_tanksettings.streamtimeout[1] = spawnstruct();
    self.seq3_tanksettings.streamtimeout[0] scripts\mp\gametypes\br_quest_util.gsc::get_minigun_path( 3, 5, 0, self.origin );
    self.seq3_tanksettings.streamtimeout[1] scripts\mp\gametypes\br_quest_util.gsc::get_minigun_path( 1, 5, 0, self.origin );
    var_0 = scripts\engine\utility::get_enemy_team( self.team );
    var_1 = scripts\mp\utility\teams::getteamdata( var_0, "players" );

    foreach ( var_3 in level.players )
    {
        var_4 = self.team == var_3.team;
        self.seq3_tanksettings.streamtimeout[scripts\engine\utility::ter_op( var_4, 0, 1 )] scripts\mp\gametypes\br_quest_util.gsc::_id_12550( var_3 );
    }

    if ( isdefined( self.seq3_tanksettings.streamtimeout[0] ) )
        self.seq3_tanksettings.streamtimeout[0] thread vehicle_stop_moving( self );

    if ( isdefined( self.seq3_tanksettings.streamtimeout[1] ) )
        self.seq3_tanksettings.streamtimeout[1] thread vehicle_stop_moving( self, 8 );
}

vehicle_stop_moving( var_0, var_1 )
{
    level endon( "game_ended" );

    for (;;)
    {
        if ( !isdefined( var_0 ) || !isalive( var_0 ) || !isdefined( self.mapcircle ) )
            break;

        scripts\mp\gametypes\br_quest_util.gsc::_id_12395( 0 );
        scripts\mp\gametypes\br_quest_util.gsc::throwing_knife_cp_trytopickup( var_0.origin );

        if ( isdefined( var_1 ) )
        {
            wait( var_1 );
            continue;
        }

        waitframe();
    }

    var_0 vehicle_spawn_abandonedtimeout();
}

vehicle_spawn_abandonedtimeout()
{
    if ( !isdefined( self.seq3_tanksettings.streamtimeout ) || !isdefined( self.seq3_tanksettings.streamtimeout[0] ) || !isdefined( self.seq3_tanksettings.streamtimeout[1] ) )
        return;

    foreach ( var_2, var_1 in self.seq3_tanksettings.streamtimeout )
    {
        if ( isdefined( var_1 ) )
        {
            var_1 scripts\mp\gametypes\br_quest_util.gsc::hacks_needed();
            self.seq3_tanksettings.streamtimeout[var_2] = undefined;
        }
    }
}

vehicle_spawn_cancelpendingrespawns()
{
    if ( isdefined( self.seq3_tanksettings.tripwire_trackachievementboom ) )
        return;

    var_0 = "ui_mp_br_mapmenu_icon_plunder_leader";
    var_1 = scripts\mp\objidpoolmanager::requestobjectiveid( 1 );
    objective_state( var_1, "invisible" );
    objective_position( var_1, self.origin + ( 0, 0, 100 ) );
    objective_setplayintro( var_1, 0 );
    objective_setshowoncompass( var_1, 0 );
    objective_setshowdistance( var_1, 0 );
    getbnetigrbattlepassxpmultiplier( var_1, 0, 1150 );
    getscriptcachecontents( var_1, 0.2, 0.3 );
    scripts\mp\objidpoolmanager::update_objective_icon( var_1, var_0 );
    scripts\mp\objidpoolmanager::update_objective_setzoffset( var_1, 100 );
    scripts\mp\objidpoolmanager::update_objective_onentity( var_1, self );
    var_2 = scripts\engine\utility::get_enemy_team( self.team );
    scripts\mp\objidpoolmanager::update_objective_ownerteam( var_1, self.team );
    scripts\mp\objidpoolmanager::update_objective_setbackground( var_1, 6 );

    if ( !isdefined( self.seq3_tanksettings.tripwire_trackachievementboom ) )
        self.seq3_tanksettings.tripwire_trackachievementboom = [];

    self.seq3_tanksettings.tripwire_trackachievementboom[self.seq3_tanksettings.tripwire_trackachievementboom.size] = var_1;

    if ( !isdefined( self.seq3_tanksettings.tripwire_trackachievementboom ) )
        self.seq3_tanksettings.tripwire_trackachievementboom = [];

    self.seq3_tanksettings.tripwire_trackachievementboom[self.seq3_tanksettings.tripwire_trackachievementboom.size] = var_1;
}

vehicle_showvalidlittlebirds()
{
    if ( !isdefined( self.seq3_tanksettings.tripwire_trackachievementboom ) )
        return;

    foreach ( var_1 in self.seq3_tanksettings.tripwire_trackachievementboom )
        scripts\mp\objidpoolmanager::returnreservedobjectiveid( var_1 );

    self.seq3_tanksettings.tripwire_trackachievementboom = undefined;
}

_redbuttonused_internal()
{

}

grenadehealthatdeathframeupdatecallback( var_0 )
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "prematch_done" );
    var_1 = [];
    var_2 = level.current_puddle_count._id_120C1.exterior_goal_func;
    var_3 = level.current_puddle_count._id_120C1.circle_radius;

    foreach ( var_5 in var_0 )
    {
        if ( scripts\engine\utility::safefromnuke( var_5.origin, var_2, var_3 ) )
            var_1[var_1.size] = var_5;
    }

    var_7 = randomintrange( level.current_puddle_count.tabletreplacemin, level.current_puddle_count.tabletreplacemax + 1 );
    var_7 = min( var_7, var_1.size );
    var_1 = scripts\engine\utility::array_randomize( var_1 );
    level waittill( "quest_tablets_refill" );

    for ( var_8 = 0; var_8 < var_7; var_8++ )
    {
        var_5 = var_1[var_8];
        var_5 scripts\mp\gametypes\br_quest_util.gsc::tabletshow();
    }
}

deployingplayer( var_0 )
{
    var_1 = int( scripts\mp\utility\game::gettimepassed() / 1000 );
    var_2 = scripts\mp\utility\game::gettimelimit();
    var_3 = int( level.current_puddle_count.i_xp_per_minute * ( var_1 / 60 ) );
    var_4 = var_1 / var_2;
    var_5 = level.current_puddle_count.i_xp_for_loss;

    if ( isdefined( var_0 ) && var_0 == 1 )
        var_5 = level.current_puddle_count.i_xp_for_win;

    var_5 = int( var_5 * var_4 );
    var_6 = var_3 + var_5;
    return [ var_6, var_3, var_5 ];
}

turn_on_player_outline()
{
    scripts\mp\utility\outline::outlineenableforteam( self, self.team, "outline_depth_rumble", "level_script" );
}

_id_12165()
{
    level endon( "game_ended" );
    var_0 = 0;
    var_1 = 0;
    var_2 = getdvarint( "scr_br_scorelimit" );

    for (;;)
    {
        var_3 = int( game["teamScores"]["allies"] );
        var_4 = var_3 / var_2;
        var_5 = int( game["teamScores"]["axis"] );
        var_6 = var_5 / var_2;

        if ( !var_0 )
        {
            if ( var_4 > 0.5 && var_6 > 0.5 )
            {
                var_0 = 1;
                level thread waittill_near_goal( "tie", 50 );
            }
            else if ( var_4 > 0.5 )
            {
                var_0 = 1;
                level thread waittill_near_goal( "allies", 50 );
            }
            else if ( var_6 > 0.5 )
            {
                var_0 = 1;
                level thread waittill_near_goal( "axis", 50 );
            }
        }
        else if ( !var_1 )
        {
            if ( var_4 > 0.9 && var_6 > 0.9 )
            {
                var_1 = 1;
                level thread waittill_near_goal( "tie", 90 );
            }
            else if ( var_4 > 0.9 )
            {
                var_1 = 1;
                level thread waittill_near_goal( "allies", 90 );
            }
            else if ( var_6 > 0.9 )
            {
                var_1 = 1;
                level thread waittill_near_goal( "axis", 90 );
            }
        }

        waitframe();
    }
}

waittill_near_goal( var_0, var_1 )
{
    var_2 = undefined;
    var_3 = undefined;

    switch ( var_0 )
    {
        case "tie":
            var_2 = "score_friendly_";
            var_3 = "score_friendly_";
            break;
        case "allies":
            var_2 = "score_friendly_";
            var_3 = "score_enemy_";
            break;
        case "axis":
            var_2 = "score_enemy_";
            var_3 = "score_friendly_";
            break;
    }

    var_2 = var_2 + var_1 + "_percent";
    var_3 = var_3 + var_1 + "_percent";
    level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( var_2, "allies" );
    level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( var_3, "axis" );
}

br_updategameevents()
{
    level endon( "game_ended" );

    for (;;)
    {
        level waittill( "assassination_quest_completed", var_0, var_1 );
        level scripts\mp\gamescore::giveteamscoreforobjective( var_0, level.current_puddle_count.powered_on_model, 0 );
    }
}

apc_rus_adjustdriverturretammo()
{
    var_0 = matchdata_recordrecentlyplayeddata( self.setarenaomnvarhealthtype );

    if ( self.type == "br_loot_cache_lege" )
        var_1 = getdvarint( "scr_brRumble_powerup_drop_in_cache_lege", 100 );
    else
        var_1 = getdvarint( "scr_brRumble_powerup_drop_in_cache_base", 33 );

    var_2 = scripts\mp\gametypes\br_pickups.gsc::register_respawn_functions();
    spawn_jugg_with_objective( var_2, var_1, var_0 );
}

matchdata_recordrecentlyplayeddata( var_0 )
{
    if ( !level.current_puddle_count.postspawn_assault3_bombers )
        return;

    var_1 = spawnstruct();
    var_2 = monitor_balloon_marker_throw();
    var_3 = var_2._id_12A5E;
    var_4 = var_2.ppkflagcarrier;
    var_1.force_thermites = var_0.team != var_3 && var_4 >= 50;

    if ( var_1.force_thermites )
    {
        var_1.force_var_to_array = -1;
        var_5 = [ 50, 75, 100 ];
        var_6 = [ 45, 55, 62 ];

        foreach ( var_9, var_8 in var_5 )
        {
            if ( var_4 >= var_8 )
            {
                var_1.force_var_to_array = var_5.size - var_9;
                var_1.forceabshotfoot = var_6[var_9];
            }
        }
    }

    return var_1;
}

tv_station_fastrope_one_infil_rider_start_targetname()
{
    if ( getdvarint( "scr_brRumble_disable_game_end_on_timer", 0 ) )
        return;

    var_0 = "tie";
    var_0 = scripts\mp\gamescore::gethighestscoringteam();
    var_1 = scripts\engine\utility::get_enemy_team( var_0 );
    logstring( "[KEY_MOMENT] time limit, win: " + var_0 );
    thread scripts\mp\gametypes\br.gsc::brendgame( var_0, game["end_reason"]["time_limit_reached"], 0 );
}

endgame( var_0, var_1, var_2, var_3 )
{
    scripts\mp\gametypes\br.gsc::brendgame( var_0, var_1, 0, var_3 );
}

claymore_crate_player_at_max_ammo( var_0 )
{

}

claymore_blockdamageuntilframeend( var_0 )
{
    var_1 = scripts\engine\utility::ter_op( var_0 == "axis", "allies", "axis" );
    level thread interiordoor( var_0, var_1 );
    level thread interior_door_interaction( var_0 );
    wait( level.claymore_forceclampangles - 0.5 );
    level thread scripts\mp\gametypes\br.gsc::update_ai_volumes( var_1, 2, undefined, 1, 1, 1 );
}

interior_door_interaction( var_0 )
{
    level thread scripts\mp\gametypes\br.gsc::handleendgamesplash( var_0 );
    level thread scripts\mp\gametypes\br.gsc::play_thrust_fx( var_0 );

    if ( istrue( level._id_1254A ) )
    {
        var_1 = scripts\mp\gamelogic::moving_platform_offset();

        foreach ( var_3 in level.players )
        {
            if ( var_3.team != var_0 && !isdefined( var_3.player_looking ) )
            {
                var_3 setclientomnvar( "post_game_state", var_1 );
                var_3 setclientomnvar( "ui_br_end_game_splash_type", 1 );
                var_3.player_looking = 1;
            }
        }
    }
}

interiordoor( var_0, var_1 )
{
    wait 1;

    if ( var_0 == "tie" )
        level thread scripts\mp\gametypes\br_public.gsc::brleaderdialog( "mission_draw", 0, undefined, 1 );
    else
    {
        level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( "score_friendly_win", var_0 );
        level thread scripts\mp\gametypes\br_public.gsc::cpoperationcrateactivatecallback( "score_enemy_win", var_1 );
    }
}

dangercircletick( var_0, var_1 )
{
    foreach ( var_3 in level.current_puddle_count.spawned_vehicles )
    {
        if ( !scripts\mp\gametypes\br_circle.gsc::ispointincurrentsafecircle( var_3.origin ) )
        {
            var_4 = var_3.maxhealth * 0.15;
            var_3 dodamage( var_4, var_3.origin );
        }
    }
}

spotlimit( var_0 )
{
    level endon( "game_ended" );
    wait 3.0;
    var_1 = getdvarint( "scr_brRumble_spawn_camp_trigger_radius", 4400 );
    var_2 = getdvarint( "scr_brRumble_spawn_camp_trigger_height", 5000 );
    var_3 = getdvarint( "scr_brRumble_spawn_camp_trigger_center_offset", 500 );
    var_4 = getdvarint( "scr_brRumble_spawn_camp_trigger_z_offset", -1000 );
    var_5 = scripts\engine\utility::drop_to_ground( self.origin ) + vectornormalize( level.current_puddle_count._id_120C1._id_12827[var_0] ) * var_3;
    var_5 = var_5 + ( 0, 0, var_4 );
    var_6 = spawn( "trigger_radius", var_5, 0, var_1, var_2 );
    var_6._id_12BDF = var_0;
    var_6 scripts\mp\gametypes\br_quest_util.gsc::get_minigun_path( 11, 0, 2, var_5 );
    var_6 scripts\mp\gametypes\br_quest_util.gsc::_id_12395( var_1 );

    for (;;)
    {
        var_6 waittill( "trigger", var_7 );

        if ( istrue( var_7.requiredplayercountoveride ) || !isplayer( var_7 ) && !isagent( var_7 ) || var_7.team == var_0 )
            continue;

        var_7 thread sqtablet_init( var_6 );
        wait 0.25;
    }
}

sqtablet_init( var_0 )
{
    self endon( "disconnect" );
    self.requiredplayercountoveride = 1;
    self setperk( "specialty_radarblip", 1 );
    thread scripts\cp_mp\killstreaks\helper_drone::markflash();
    var_0 scripts\mp\gametypes\br_quest_util.gsc::_id_12550( self );

    while ( self istouching( var_0 ) && isalive( self ) )
    {
        thread scripts\cp_mp\killstreaks\helper_drone::markeduion();
        self waittill( "markedUIUpdate" );
        waitframe();
    }

    var_0 scripts\mp\gametypes\br_quest_util.gsc::playertimestart( self );
    self.requiredplayercountoveride = undefined;
    self unsetperk( "specialty_radarblip", 1 );
}

waittill_player_has_dropkit_marker( var_0, var_1, var_2 )
{
    var_3 = undefined;

    if ( isdefined( var_2 ) )
    {
        var_3 = spawnstruct();
        var_3.intvar = var_2;
    }

    if ( isalive( var_0 ) )
        scripts\mp\gametypes\br_quest_util.gsc::displayplayersplash( var_0, var_1, var_3 );
    else
        var_0 thread _id_11C78( scripts\mp\gametypes\br_quest_util.gsc::displayplayersplash( var_0, var_1, var_3 ) );
}

waittill_player_dwells_or_wave_min_count( var_0, var_1 )
{
    foreach ( var_3 in level.players )
    {
        if ( !isdefined( var_3 ) )
            continue;

        var_4 = undefined;

        if ( isalive( var_3 ) )
        {
            if ( isdefined( var_1 ) )
            {
                var_4 = spawnstruct();
                var_4.intvar = var_1;
            }

            scripts\mp\gametypes\br_quest_util.gsc::displayplayersplash( var_3, var_0, var_4 );
            continue;
        }

        if ( !isdefined( var_4 ) )
            var_4 = spawnstruct();

        var_4.intvar = var_1;
        var_4._id_1286C = var_0;
        var_3 thread _id_11C78( var_4 );
    }
}

_id_11C78( var_0 )
{
    self notify( "dead_splash_queue_triggered" );
    self endon( "dead_splash_queue_triggered" );
    level endon( "game_ended" );
    level endon( "disconnect" );

    if ( !isdefined( self.getkeypadstatefromomnvar ) )
        self.getkeypadstatefromomnvar = [];

    self.getkeypadstatefromomnvar = scripts\engine\utility::array_add( self.getkeypadstatefromomnvar, var_0 );

    while ( self.getkeypadstatefromomnvar.size > 0 )
    {
        if ( isalive( self ) )
        {
            wait 0.5;

            foreach ( var_2 in self.getkeypadstatefromomnvar )
                scripts\mp\gametypes\br_quest_util.gsc::displayplayersplash( self, var_2._id_1286C, var_2 );

            self.getkeypadstatefromomnvar = [];
            break;
        }

        wait 1.0;
    }
}

tv_station_boss_should_break_stealth_immediately( var_0, var_1, var_2, var_3, var_4 )
{
    if ( var_1 == "body" )
        var_0.setarenaomnvarhealthtype = var_3;

    if ( var_0.type == "br_reusable_loot_cache" )
    {
        var_5 = 150;
        var_0 thread _id_1313B( var_0.origin, var_5 );
    }
}

_id_1313B( var_0, var_1 )
{
    level endon( "game_ended" );
    self notify( "util_remove_scriptables_nearby" );
    self endon( "util_remove_scriptables_nearby" );
    var_2 = 1000;
    wait( getdvarint( "scr_reusable_cache_recharge_time", 90 ) );

    foreach ( var_4 in level.players )
    {
        if ( distance( var_4.origin, self.origin ) < var_2 )
            return;
    }

    var_6 = canceljoins( undefined, undefined, var_0, var_1 );
    var_6 = scripts\engine\utility::array_remove( var_6, self );

    foreach ( var_8 in var_6 )
    {
        if ( !issubstr( var_8.type, "brloot_" ) )
            continue;

        if ( var_8 getscriptableisreserved() )
        {
            var_8 freescriptable();
            continue;
        }

        var_9 = var_8 getscriptablepartnameatindex( 0 );
        var_8 setscriptablepartstate( var_9, "hidden", 1 );
    }
}

monitor_balloon_marker_throw()
{
    var_0 = spawnstruct();
    var_0.postshipmodifychevrons = int( game["teamScores"]["axis"] );
    var_0.postkillcamplunderlost = int( game["teamScores"]["allies"] );
    var_0.ppkflagcarrier = abs( var_0.postshipmodifychevrons - var_0.postkillcamplunderlost );
    var_1 = scripts\engine\utility::ter_op( var_0.postshipmodifychevrons > var_0.postkillcamplunderlost, "axis", "allies" );

    if ( var_0.postshipmodifychevrons == var_0.postkillcamplunderlost )
        var_1 = "contested";

    var_0._id_12A5E = var_1;
    return var_0;
}

_id_12323()
{
    var_0 = level.mapcorners[0].origin[0];
    var_1 = level.mapcorners[1].origin[0];
    var_2 = var_1 - var_0;
    var_3 = level.mapcorners[0].origin[1];
    var_4 = level.mapcorners[1].origin[1];
    var_5 = var_4 - var_3;

    if ( !isdefined( var_2 ) || !isdefined( var_2 ) )
        return;

    var_6 = ( level.current_puddle_count._id_120C1.exterior_goal_func[0] - var_0 ) / var_2;
    var_7 = ( level.current_puddle_count._id_120C1.exterior_goal_func[1] - var_3 ) / var_5;
    setdvar( "MPPMSRPRS", var_6 );
    setdvar( "MNMRTKRKLL", var_7 );
    setdvar( "MLNLOPPPK", 0.18 );
}

_playerwaittillcinematiccompleteinternal()
{

}

spawn_lbravo()
{
    level.current_puddle_count.spawn_lot_paratroopers = [];
    var_0 = [];
    var_0["nothing"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_nothing_cash_table", 5 );
    var_0["brloot_plunder_cash_uncommon_1"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_cash_uncommon_1", 10 );
    var_0["brloot_plunder_cash_uncommon_2"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_cash_uncommon_2", 5 );
    var_0["brloot_plunder_cash_uncommon_3"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_cash_uncommon_3", 2 );
    var_0["brloot_plunder_cash_rare_1"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_cash_rare_1", 0.5 );
    spawn_jugg_assault2( var_0, "loot_table_dom_flag_capture_cash" );
    var_0 = [];
    var_0["nothing"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_cash_loot_id_nothing_weapon_table", 2 );
    var_0["brloot_killstreak_explosive_bow"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_explosive_bow", 2 );
    var_0["brloot_weapon_la_mike32_lege"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_lege_weapon_grenade_launcher", 2 );
    var_0["brloot_weapon_lm_dblmg_lege"] = getdvarfloat( "scr_brRumble_dom_flag_capture_lt_lege_weapon_minigun", 1 );
    spawn_jugg_assault2( var_0, "loot_table_dom_flag_capture_weapons" );
    var_0 = [];
    var_0["brloot_rumble_powerup_double_points"] = getdvarfloat( "scr_brRumble_loot_table_powerup_favor_2x_double_point_weight", 2.2 );
    var_0["brloot_rumble_powerup_killmonger"] = getdvarfloat( "scr_brRumble_loot_table_powerup_favor_2x_killmonger_weight", 1 );
    var_0["brloot_rumble_powerup_speed_boost"] = getdvarfloat( "scr_brRumble_loot_table_powerup_favor_2x_speed_boost_weight", 1 );
    spawn_jugg_assault2( var_0, "loot_table_random_powerup_favor_2x" );
}

spawn_juggernauts( var_0 )
{
    if ( !isdefined( var_0 ) )
        return;

    var_1 = level.current_puddle_count.spawn_lot_paratroopers[var_0];
    var_2 = randomfloat( 1.0 );

    foreach ( var_7, var_4 in var_1 )
    {
        var_5 = var_4[2];
        var_6 = var_4[3];

        if ( var_2 >= var_5 && var_2 <= var_6 )
            return var_7;
    }
}

spawn_loot_pickups( var_0, var_1, var_2 )
{
    playfx( scripts\engine\utility::getfx( "vfx_golden_loot_explosion_flare" ), var_0 );
    var_3 = spawnstruct();
    var_3.origin = var_0;
    var_3.angles = ( 0, 0, randomfloatrange( 0.0, 180.0 ) );
    var_3.dropstruct = scripts\mp\gametypes\br_pickups.gsc::register_respawn_functions();
    var_3.dropstruct.init_reach_wind_room = scripts\engine\utility::ter_op( var_2 == 1, 6 + randomintrange( 1, 10 ), 6 );
    var_3.dropstruct.playergetbestrespawnmissionorigin = 0;
    var_4 = level.current_puddle_count.spawn_lot_paratroopers[var_1];

    for ( var_5 = 0; var_5 < var_2; var_5++ )
    {
        var_6 = randomfloat( 1.0 );

        foreach ( var_12, var_8 in var_4 )
        {
            var_9 = var_8[2];
            var_10 = var_8[3];

            if ( var_6 >= var_9 && var_6 <= var_10 )
            {
                var_11 = var_12;

                if ( var_11 == "nothing" )
                    continue;

                switch ( var_1 )
                {
                    case "loot_table_dom_flag_capture_cash":
                        var_3.dropstruct.init_reach_wind_room = var_3.dropstruct.init_reach_wind_room + 2;
                        break;
                }

                thread spawn_lmg_soldiers_05( var_11, var_3 );
                var_3.dropstruct.init_reach_wind_room = var_3.dropstruct.init_reach_wind_room + 2;
                waitframe();
            }
        }
    }
}

spawn_lmg_soldiers_05( var_0, var_1 )
{
    if ( !isdefined( var_0 ) )
        return;

    var_1.legendary = 0;

    if ( issubstr( var_0, "lege" ) )
    {
        var_2 = randomintrange( 5, 40 );
        var_1.dropstruct.init_reach_wind_room = var_2;
        var_1.legendary = 1;
    }

    var_3 = var_1.origin + ( 0, 0, var_1.dropstruct.playergetbestrespawnmissionorigin );
    var_4 = scripts\mp\gametypes\br_lootcache.gsc::spawn_silo_door_ai( var_0, var_1.dropstruct, var_3, var_1.angles, 0, var_1.legendary, 0 );
    var_1.dropstruct.playergetbestrespawnmissionorigin = var_1.dropstruct.playergetbestrespawnmissionorigin + 15;
}

spawn_little_bird_mg_at_location( var_0 )
{
    var_1 = scripts\mp\gametypes\br_pickups.gsc::register_respawn_functions();
    var_1.origin = var_0;
    var_1.angles = ( 0, 0, randomfloatrange( 0.0, 180.0 ) );
    var_1.init_reach_wind_room = randomintrange( 1, 10 );
    var_1.playergetbestrespawnmissionorigin = randomintrange( 1, 10 );
    return var_1;
}

spawn_jugg_assault2( var_0, var_1 )
{
    var_2 = [];
    var_3 = 0;

    foreach ( var_5 in var_0 )
        var_3 = var_3 + var_5;

    var_7 = 0;
    var_8 = getarraykeys( var_0 );
    var_9 = undefined;

    foreach ( var_14, var_5 in var_0 )
    {
        var_2[var_14] = [];
        var_11 = var_5 / var_3;

        if ( var_7 == 0 )
        {
            var_12 = 0;
            var_13 = var_11;
        }
        else
        {
            var_12 = var_9[3];
            var_13 = var_12 + var_11;
        }

        var_2[var_14] = [ var_5, var_11, var_12, var_13 ];
        var_9 = var_2[var_14];
        var_7++;
    }

    level.current_puddle_count.spawn_lot_paratroopers[var_1] = var_2;
}

spawn_jugg_with_objective( var_0, var_1, var_2 )
{
    if ( !isdefined( var_1 ) )
        var_1 = 100;

    var_3 = randomintrange( 1, 101 );
    var_4 = undefined;
    var_5 = undefined;

    if ( istrue( var_2.force_thermites ) )
    {
        if ( var_2.forceabshotfoot < var_3 )
            return;

        var_5 = spawn_juggernauts( "loot_table_random_powerup_favor_2x" );
    }
    else
    {
        if ( var_1 < var_3 )
            return;

        var_4 = _calloutmarkerping_isdropcrate::vip_freeze_link();
        var_5 = "brloot_rumble_powerup_" + var_4;
    }

    if ( !isent( self ) || self isscriptable() )
    {
        var_6 = 35;
        var_7 = 75;
        var_7 = var_7 + randomfloatrange( -10, 10 );
        var_8 = var_6 + 55 + randomfloatrange( -5, 5 );
        var_9 = scripts\mp\gametypes\br_pickups.gsc::getitemdroporiginandangles( var_0, self.origin, self.angles, undefined, var_7, var_8 );
    }
    else
        var_9 = scripts\mp\gametypes\br_pickups.gsc::getitemdroporiginandangles( var_0, self.origin, self.angles, self );

    scripts\mp\gametypes\br_pickups.gsc::spawnpickup( var_5, var_9, 1, 1 );
}

_purchasemenuclosedbyclient()
{

}

_id_12FA9()
{
    var_0 = "any";
    var_1 = level.current_puddle_count._id_120C1.exterior_goal_func + vectornormalize( level.current_puddle_count._id_120C1._id_12827["axis"] ) * level.current_puddle_count._id_120C1.circle_radius * level.current_puddle_count._id_120C1._id_127BC;
    var_2 = scripts\mp\gameobjects::createobjidobject( var_1, "neutral", ( 0, 0, 0 ), undefined, var_0, 0 );
    var_2.origin = var_1;
    scripts\mp\objidpoolmanager::update_objective_ownerteam( var_2.objidnum, "axis" );
    scripts\mp\objidpoolmanager::objective_teammask_addtomask( var_2.objidnum, "axis" );
    scripts\mp\objidpoolmanager::objective_set_play_intro( var_2.objidnum, 0 );
    var_2.lockupdatingicons = 0;
    scripts\mp\objidpoolmanager::objective_pin_global( var_2.objidnum, 0 );
    scripts\mp\objidpoolmanager::update_objective_icon( var_2.objidnum, "icon_waypoint_hq_friendly" );
    scripts\mp\objidpoolmanager::update_objective_setbackground( var_2.objidnum, 6 );
    objective_state( var_2.objidnum, "active" );
    var_2.lockupdatingicons = 1;
    var_2.team = "axis";
    level.plunder_items_picked_up.brskipplayerkillcams = var_2;
    level.plunder_items_picked_up.brskipplayerkillcams thread _id_12FAC();
    var_2 = scripts\mp\gameobjects::createobjidobject( var_1, "neutral", ( 0, 0, 0 ), undefined, var_0, 0 );
    var_2.origin = var_1;
    scripts\mp\objidpoolmanager::update_objective_ownerteam( var_2.objidnum, "axis" );
    scripts\mp\objidpoolmanager::objective_teammask_addtomask( var_2.objidnum, "allies" );
    scripts\mp\objidpoolmanager::objective_set_play_intro( var_2.objidnum, 0 );
    var_2.lockupdatingicons = 0;
    scripts\mp\objidpoolmanager::objective_pin_global( var_2.objidnum, 0 );
    scripts\mp\objidpoolmanager::update_objective_icon( var_2.objidnum, "icon_waypoint_hq_enemy" );
    scripts\mp\objidpoolmanager::update_objective_setbackground( var_2.objidnum, 7 );
    objective_state( var_2.objidnum, "active" );
    var_2.lockupdatingicons = 1;
    var_2.team = "axis";
    level.plunder_items_picked_up.brsingleuse = var_2;
    level.plunder_items_picked_up.brsingleuse thread _id_12FAC();
    level.plunder_items_picked_up.brsingleuse thread spotlimit( "axis" );
    var_1 = level.current_puddle_count._id_120C1.exterior_goal_func + vectornormalize( level.current_puddle_count._id_120C1._id_12827["allies"] ) * level.current_puddle_count._id_120C1.circle_radius * level.current_puddle_count._id_120C1._id_127BC;
    var_2 = scripts\mp\gameobjects::createobjidobject( var_1, "neutral", ( 0, 0, 0 ), undefined, var_0, 0 );
    var_2.origin = var_1;
    scripts\mp\objidpoolmanager::update_objective_ownerteam( var_2.objidnum, "allies" );
    scripts\mp\objidpoolmanager::objective_teammask_addtomask( var_2.objidnum, "allies" );
    scripts\mp\objidpoolmanager::objective_set_play_intro( var_2.objidnum, 0 );
    var_2.lockupdatingicons = 0;
    scripts\mp\objidpoolmanager::objective_pin_global( var_2.objidnum, 0 );
    scripts\mp\objidpoolmanager::update_objective_icon( var_2.objidnum, "icon_waypoint_hq_friendly" );
    scripts\mp\objidpoolmanager::update_objective_setbackground( var_2.objidnum, 6 );
    objective_state( var_2.objidnum, "active" );
    var_2.lockupdatingicons = 1;
    var_2.team = "allies";
    level.plunder_items_picked_up.bleedout_logic = var_2;
    level.plunder_items_picked_up.bleedout_logic thread _id_12FAC();
    var_2 = scripts\mp\gameobjects::createobjidobject( var_1, "neutral", ( 0, 0, 0 ), undefined, var_0, 0 );
    var_2.origin = var_1;
    scripts\mp\objidpoolmanager::update_objective_ownerteam( var_2.objidnum, "allies" );
    scripts\mp\objidpoolmanager::objective_teammask_addtomask( var_2.objidnum, "axis" );
    scripts\mp\objidpoolmanager::objective_set_play_intro( var_2.objidnum, 0 );
    var_2.lockupdatingicons = 0;
    scripts\mp\objidpoolmanager::objective_pin_global( var_2.objidnum, 0 );
    scripts\mp\objidpoolmanager::update_objective_icon( var_2.objidnum, "icon_waypoint_hq_enemy" );
    scripts\mp\objidpoolmanager::update_objective_setbackground( var_2.objidnum, 7 );
    objective_state( var_2.objidnum, "active" );
    var_2.lockupdatingicons = 1;
    var_2.team = "allies";
    level.plunder_items_picked_up.bleedout_heartbeat_sfx_logic = var_2;
    level.plunder_items_picked_up.bleedout_heartbeat_sfx_logic thread _id_12FAC();
    level.plunder_items_picked_up.bleedout_heartbeat_sfx_logic thread spotlimit( "allies" );
}

_id_12FAC()
{
    level endon( "game_ended" );
    scripts\mp\flags::gameflagwait( "rumble_location_selected" );
    var_0 = scripts\engine\utility::ter_op( self.team == "axis", level.plunder_items_picked_up.burndowntime, level.plunder_items_picked_up.bunkervaults );

    if ( !isdefined( var_0 ) )
        return;

    self.origin = var_0;
    scripts\mp\objidpoolmanager::update_objective_position( self.objidnum, var_0 );
}

_id_12FA2()
{
    self endon( "disconnect" );

    if ( self.team == "allies" )
    {
        scripts\mp\objidpoolmanager::objective_playermask_addshowplayer( level.plunder_items_picked_up.bleedout_logic.objidnum, self );
        scripts\mp\objidpoolmanager::objective_playermask_addshowplayer( level.plunder_items_picked_up.brsingleuse.objidnum, self );
    }
    else
    {
        scripts\mp\objidpoolmanager::objective_playermask_addshowplayer( level.plunder_items_picked_up.bleedout_heartbeat_sfx_logic.objidnum, self );
        scripts\mp\objidpoolmanager::objective_playermask_addshowplayer( level.plunder_items_picked_up.brskipplayerkillcams.objidnum, self );
    }
}

_luidecision()
{

}
